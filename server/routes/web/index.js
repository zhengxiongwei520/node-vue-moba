module.exports = app => {
  const router = require('express').Router()
  const Article = require('../../models/Article')
  const Cate = require('../../models/Cate')
  const Hero = require('../../models/Hero')
  const Strategy = require('../../models/Strategy')
  const Race = require('../../models/Race')
  // 这一段是用代码给数据库添加文章内容
  router.get('/news/init', async (req, res) => {
    const parent = await Cate.findOne({
      name: '新闻资讯'
    })
    const cates = await Cate.find().where({
      parent: parent
    }).lean() // 获取JS形式
    const newsTitles = ["星元部件爆料丨换上新装闪耀舞台，偶像歌手化身魔法少女", "王者荣耀×敦煌︱又有新皮肤啦！？", "《王者荣耀》皮肤团2020年春季招新公告", "吕布-天魔缭乱翻新曝光，霸气风范，魔王归来！", "体验服爆料丨廉颇未老，尚能战斗！老将廉颇重返巅峰", "4月5日开服及奖励通知", "4月15日外挂专项打击公告", "4月15日“演员”惩罚名单", "4月15日净化游戏环境声明及处罚公告", "4月14日体验服停机更新公告", "充值1元即可开启暖春七日登录好礼", "天魔缭乱限时返场 多重好礼等你来领", "橘右京全新史诗皮肤上架 SNK皮肤齐聚峡谷福利大放送", "【预告】荣耀中国节·轻风戏纸鸢，参与必得纸鸢回城特效（永久）", "参与“S19战令集结号”，赢80级直升经验大礼", "关于责成TS俱乐部就欠薪问题进行说明的通知", "《一招即浪》第二期：逆天牛魔王最浪打法，城市赛教你一招制敌", "为战队争夺荣誉！城市联赛战队赛通道报名开启！", "高校联赛分站赛即将打响 今年又有多少好玩的活动值得期待？", "《一招即浪》第一期：白起强势归来，教你如何化身“边路杀神”"]
    const newsList = newsTitles.map(title => {
      const randomCates = cates.slice(0).sort((a, b) => Math.random() - 0.5)
      return {
        cates: randomCates.slice(0, 2),
        title: title
      }
    })
    await Article.deleteMany({})
    await Article.insertMany(newsList)
    res.send(newsList)
  })
  // 这一路由是前端要访问的，所以要做好数据类型
  router.get('/news/list', async (req, res) => {
    const parent = await Cate.findOne({ name: '新闻资讯' }) // 找到所有中级分类
    const cates = await Cate.aggregate([ // 聚合
      { $match: { parent: parent._id } }, // 筛选
      {
        $lookup: { // 查找
          from: 'articles', // 来自哪个集合 mongoose.model('Cate', schema)其实有第三个参数，就是集合名字，默认是模型名称小写cates
          localField: '_id',
          foreignField: 'cates', // 获得Article模型的cates数据
          as: 'newsList' // 名称
        }
      },
    ]);
    const subCates = cates.map(v => v._id)
    cates.unshift({
      name: '热门',
      newsList: await Article.find().where({
        cates: { $in: subCates }
      }).populate('cates').lean()
    });
    cates.map(cate => cate.newsList.map(news => {
      news.cateName = cate.name
    }));
    cates[0].newsList.map(v => {
      v.cateName = v.cates[0].name
    })


    res.send(cates)
  })

  // 插入英雄
  // router.get('/heroes/init', async (req, res) => {
  //   await Hero.deleteMany({})
  //   const rawData = [{ "name": "热门", "heroes": [{ "name": "后羿", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/169/169.jpg" }, { "name": "孙悟空", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/167/167.jpg" }, { "name": "铠", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/193/193.jpg" }, { "name": "安琪拉", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/142/142.jpg" }, { "name": "亚瑟", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/166/166.jpg" }, { "name": "鲁班七号", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/112/112.jpg" }, { "name": "妲己", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/109/109.jpg" }, { "name": "甄姬", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/127/127.jpg" }, { "name": "韩信", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/150/150.jpg" }, { "name": "伽罗", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/508/508.jpg" }] }, { "name": "战士", "heroes": [{ "name": "赵云", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/107/107.jpg" }, { "name": "墨子", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/108/108.jpg" }, { "name": "钟无艳", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/117/117.jpg" }, { "name": "吕布", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/123/123.jpg" }, { "name": "夏侯惇", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/126/126.jpg" }, { "name": "曹操", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/128/128.jpg" }, { "name": "典韦", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/129/129.jpg" }, { "name": "宫本武藏", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/130/130.jpg" }, { "name": "达摩", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/134/134.jpg" }, { "name": "老夫子", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/139/139.jpg" }, { "name": "关羽", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/140/140.jpg" }, { "name": "程咬金", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/144/144.jpg" }, { "name": "露娜", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/146/146.jpg" }, { "name": "花木兰", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/154/154.jpg" }, { "name": "橘右京", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/163/163.jpg" }, { "name": "亚瑟", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/166/166.jpg" }, { "name": "孙悟空", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/167/167.jpg" }, { "name": "刘备", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/170/170.jpg" }, { "name": "钟馗", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/175/175.jpg" }, { "name": "杨戬", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/178/178.jpg" }, { "name": "雅典娜", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/183/183.jpg" }, { "name": "哪吒", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/180/180.jpg" }, { "name": "铠", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/193/193.jpg" }, { "name": "苏烈", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/194/194.jpg" }, { "name": "裴擒虎", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/502/502.jpg" }, { "name": "狂铁", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/503/503.jpg" }, { "name": "孙策", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/510/510.jpg" }, { "name": "李信", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/507/507.jpg" }, { "name": "盘古", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/529/529.jpg" }, { "name": "云中君", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/506/506.jpg" }, { "name": "曜", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/522/522.jpg" }, { "name": "马超", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/518/518.jpg" }] }, { "name": "法师", "heroes": [{ "name": "小乔", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/106/106.jpg" }, { "name": "墨子", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/108/108.jpg" }, { "name": "妲己", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/109/109.jpg" }, { "name": "嬴政", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/110/110.jpg" }, { "name": "高渐离", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/115/115.jpg" }, { "name": "孙膑", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/118/118.jpg" }, { "name": "扁鹊", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/119/119.jpg" }, { "name": "芈月", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/121/121.jpg" }, { "name": "周瑜", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/124/124.jpg" }, { "name": "甄姬", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/127/127.jpg" }, { "name": "武则天", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/136/136.jpg" }, { "name": "貂蝉", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/141/141.jpg" }, { "name": "安琪拉", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/142/142.jpg" }, { "name": "露娜", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/146/146.jpg" }, { "name": "姜子牙", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/148/148.jpg" }, { "name": "王昭君", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/152/152.jpg" }, { "name": "张良", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/156/156.jpg" }, { "name": "不知火舞", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/157/157.jpg" }, { "name": "钟馗", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/175/175.jpg" }, { "name": "诸葛亮", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/190/190.jpg" }, { "name": "干将莫邪", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/182/182.jpg" }, { "name": "女娲", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/179/179.jpg" }, { "name": "杨玉环", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/176/176.jpg" }, { "name": "弈星", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/197/197.jpg" }, { "name": "米莱狄", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/504/504.jpg" }, { "name": "司马懿", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/137/137.jpg" }, { "name": "沈梦溪", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/312/312.jpg" }, { "name": "上官婉儿", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/513/513.jpg" }, { "name": "嫦娥", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/515/515.jpg" }, { "name": "西施", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/523/523.jpg" }] }, { "name": "坦克", "heroes": [{ "name": "廉颇", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/105/105.jpg" }, { "name": "庄周", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/113/113.jpg" }, { "name": "刘禅", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/114/114.jpg" }, { "name": "钟无艳", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/117/117.jpg" }, { "name": "白起", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/120/120.jpg" }, { "name": "芈月", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/121/121.jpg" }, { "name": "吕布", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/123/123.jpg" }, { "name": "夏侯惇", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/126/126.jpg" }, { "name": "达摩", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/134/134.jpg" }, { "name": "项羽", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/135/135.jpg" }, { "name": "程咬金", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/144/144.jpg" }, { "name": "刘邦", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/149/149.jpg" }, { "name": "亚瑟", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/166/166.jpg" }, { "name": "牛魔", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/168/168.jpg" }, { "name": "张飞", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/171/171.jpg" }, { "name": "太乙真人", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/186/186.jpg" }, { "name": "东皇太一", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/187/187.jpg" }, { "name": "铠", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/193/193.jpg" }, { "name": "苏烈", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/194/194.jpg" }, { "name": "梦奇", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/198/198.jpg" }, { "name": "孙策", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/510/510.jpg" }, { "name": "嫦娥", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/515/515.jpg" }, { "name": "猪八戒", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/511/511.jpg" }] }, { "name": "刺客", "heroes": [{ "name": "赵云", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/107/107.jpg" }, { "name": "阿轲", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/116/116.jpg" }, { "name": "李白", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/131/131.jpg" }, { "name": "貂蝉", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/141/141.jpg" }, { "name": "韩信", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/150/150.jpg" }, { "name": "兰陵王", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/153/153.jpg" }, { "name": "花木兰", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/154/154.jpg" }, { "name": "不知火舞", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/157/157.jpg" }, { "name": "娜可露露", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/162/162.jpg" }, { "name": "橘右京", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/163/163.jpg" }, { "name": "孙悟空", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/167/167.jpg" }, { "name": "百里守约", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/196/196.jpg" }, { "name": "百里玄策", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/195/195.jpg" }, { "name": "裴擒虎", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/502/502.jpg" }, { "name": "元歌", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/125/125.jpg" }, { "name": "司马懿", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/137/137.jpg" }, { "name": "上官婉儿", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/513/513.jpg" }, { "name": "云中君", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/506/506.jpg" }, { "name": "马超", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/518/518.jpg" }, { "name": "镜", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/531/531.jpg" }] }, { "name": "射手", "heroes": [{ "name": "孙尚香", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/111/111.jpg" }, { "name": "鲁班七号", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/112/112.jpg" }, { "name": "马可波罗", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/132/132.jpg" }, { "name": "狄仁杰", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/133/133.jpg" }, { "name": "后羿", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/169/169.jpg" }, { "name": "李元芳", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/173/173.jpg" }, { "name": "虞姬", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/174/174.jpg" }, { "name": "成吉思汗", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/177/177.jpg" }, { "name": "黄忠", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/192/192.jpg" }, { "name": "百里守约", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/196/196.jpg" }, { "name": "公孙离", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/199/199.jpg" }, { "name": "伽罗", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/508/508.jpg" }, { "name": "蒙犽", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/524/524.jpg" }] }, { "name": "辅助", "heroes": [{ "name": "庄周", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/113/113.jpg" }, { "name": "刘禅", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/114/114.jpg" }, { "name": "孙膑", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/118/118.jpg" }, { "name": "姜子牙", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/148/148.jpg" }, { "name": "牛魔", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/168/168.jpg" }, { "name": "张飞", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/171/171.jpg" }, { "name": "蔡文姬", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/184/184.jpg" }, { "name": "太乙真人", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/186/186.jpg" }, { "name": "大乔", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/191/191.jpg" }, { "name": "鬼谷子", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/189/189.jpg" }, { "name": "明世隐", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/501/501.jpg" }, { "name": "杨玉环", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/176/176.jpg" }, { "name": "盾山", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/509/509.jpg" }, { "name": "瑶", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/505/505.jpg" }, { "name": "鲁班大师", "avatar": "https://game.gtimg.cn/images/yxzj/img201606/heroimg/525/525.jpg" }] }]

  //   for (let index = 0; index < rawData.length; index++) {
  //     if (rawData[index].name === "热门") {
  //       continue
  //     }
  //     const cate = await Cate.findOne({
  //       name: rawData[index].name
  //     })
  //     rawData[index].heroes = rawData[index].heroes.map(hero => {
  //       hero.cate = [cate._id]
  //       return hero
  //     })
  //     await Hero.insertMany(rawData[index].heroes)
  //   }
  //   res.send(await Hero.find())
  // })

  // 获取英雄
  router.get('/heroes/list', async (req, res) => {
    const parent = await Cate.findOne({ name: "英雄分类" })
    const cates = await Cate.aggregate([
      { $match: { parent: parent._id } },
      {
        $lookup: {
          from: 'heroes',
          localField: '_id',
          foreignField: 'cate',
          as: 'heroesList'
        }
      }
    ])
    const subCates = cates.map(v => v._id)
    cates.unshift({
      name: "热门",
      heroesList: await Hero.find().where({
        cate: { $in: subCates }
      }).limit(10)
    })
    res.send(cates)
  })

  router.get('/heroes/:id', async (req, res) => {
    const data = await Hero.findById(req.params.id).populate('cate items1 items2 relationships.heroes._id')

    res.send(data)
  })
  router.get('/article/:id', async (req, res) => {
    const data = await Article.findById(req.params.id).lean()
    data.related = await Article.find().where({
      cates: { $in: data.cates },
      title: { $ne: data.title }
    }).limit(2)
    res.send(data)
  })

  router.get('/strategies/init', async (req, res) => {
    await Strategy.deleteMany({})

    let heroes = [{ "title": "女王出品 | 为肉辅发声！辅助类型与肉辅玩法全解析", "cate": "5eaa8f2d598d8c08a48967d8", "desc": "女王出品 | 为肉辅发声！辅助类型与肉辅玩法全解析", "cover": "https://itea-cdn.qq.com/file/tgl/20190827/4b9fb5615512ad71115ed062e599de01.1566889716.90134ab702c29ce46151b5a8654f999b.230x140_12605.jpg", "body": "" }, { "title": "新赛季辅助上分优选，没有坦克选廉颇，选孙膑不用看阵容", "cate": "5eaa8f2d598d8c08a48967d8", "desc": "新赛季辅助上分优选，没有坦克选廉颇，选孙膑不用看阵容", "cover": "https://itea-cdn.qq.com/file/tgl/20190807/d3d9446802a44259755d38e6d163e820.1565174139.3a8f697382408c962d68db29594e8c43.184x124_66404.jpg", "body": "" }, { "title": "S16上分法师首选诸葛亮，安琪拉一控到死，她团控全场！", "cate": "5eaa8f2d598d8c08a48967d8", "desc": "S16上分法师首选诸葛亮，安琪拉一控到死，她团控全场！", "cover": "https://itea-cdn.qq.com/file/tgl/20190807/b93e5dee4a244e287388983768cc9e0a.1565192507.db0887289226b225c731b9e837014842.230x140_23723.jpg", "body": "" }, { "title": "世冠上路都用啥？孙策橘右京已经不是首选，最强势的根本猜不到", "cate": "5eaa8f2d598d8c08a48967d8", "desc": "世冠上路都用啥？孙策橘右京已经不是首选，最强势的根本猜不到", "cover": "https://itea-cdn.qq.com/file/tgl/20190803/9d70f1cf5e7587ab741eaef46597c305.1564839804.47e16b7bbe41d270aba329d78b45d22f.230x140_57850.jpg", "body": "" }, { "title": "S16一个合格辅助需要完成的六件事，能全部完成的不超过10%！", "cate": "5eaa8f2d598d8c08a48967d8", "desc": "俗话说“低分看打野，高分看辅助”，辅助作为一个团队的大脑，需要做的事情并不比打野少，有时候玩起来比打野还累。之所以有时候会被说成混分巨兽，这是因为有很多玩家都没有领悟到一个辅助到底该干什么。\n今天给大家讲解一下S16赛季辅助的六大任务，让大家快速对辅助这个位置有一个全新的认知。", "cover": "https://shp.qpic.cn/cfwebcap/0/425196ebdeca54b84c54a20c0c5c7cae/0/?width=230&height=140", "body": "" }, { "title": "Hero兵法讲堂：刺客篇", "cate": "5eaa8f2d598d8c08a48967d8", "desc": "Hero兵法讲堂：刺客篇", "cover": "https://shp.qpic.cn/cfwebcap/0/760ea7e6667ce5065b305b0134e8041a/0/?width=230&height=140", "body": "" }, { "title": "王者荣耀：射手遇到兰陵王都颤抖？，这几位却让他有来无回", "cate": "5eaa8f2d598d8c08a48967d8", "desc": "王者荣耀：射手遇到兰陵王都颤抖？，这几位却让他有来无回", "cover": "https://itea-cdn.qq.com/file/tgl/20190802/22348f642503adaf7d3641928e6ef285.1564728271.05622b4e034fc6ddd20662b94fc3444f.230x140_17371.jpg", "body": "" }, { "title": "营地数据榜：射手榜首易主，狄仁杰微调第二都没保住，他后来居上", "cate": "5eaa8f2d598d8c08a48967d8", "desc": "营地数据榜：射手榜首易主，狄仁杰微调第二都没保住，他后来居上", "cover": "https://itea-cdn.qq.com/file/tgl/20190802/c8070d27b86aa1bc7489142aa8d82a55.1564753294.ef6375f0e332fb24e691953f741a5f05.230x140_19218.jpg", "body": "" }, { "title": "王者荣耀：最考验意识的三位辅助，新手玩不好，大神当成宝！", "cate": "5eaa8f2d598d8c08a48967d8", "desc": "王者荣耀：最考验意识的三位辅助，新手玩不好，大神当成宝！", "cover": "https://itea-cdn.qq.com/file/tgl/20190802/6da9003b743b65f4c0ccd295cc484e57.1564734748.c412f7ff79ce5118fc6c0f2dc7bc21f8.230x140_22324.jpg", "body": "" }, { "title": "王者荣耀：射手出肉会更强？打惯了输出装的，不妨来看看吧！", "cate": "5eaa8f2d598d8c08a48967d8", "desc": "王者荣耀：射手出肉会更强？打惯了输出装的，不妨来看看吧！", "cover": "https://itea-cdn.qq.com/file/tgl/20190801/6da9003b743b65f4c0ccd295cc484e57.1564635606.8cf7fc5a37204778f7abb641d3396c36.230x140_22161.jpg", "body": "" }, { "title": "上分秘诀之射手，站桩射手的三件法宝！后羿实战打法简介！", "cate": "5eaa8f2d598d8c08a48967d8", "desc": "上分秘诀之射手，站桩射手的三件法宝！后羿实战打法简介！", "cover": "https://itea-cdn.qq.com/file/tgl/20190731/b0ca4eff978167e0f1953fcea8832d3f.1564566213.f0663874be6d1c54418f87519ae9c4b4.230x140_44966.jpg", "body": "" }, { "title": "草丛两个小可爱喜迎增强，妲己安琪拉下限再次提升，中路上分首选", "cate": "5eaa8f2d598d8c08a48967d8", "desc": "草丛两个小可爱喜迎增强，妲己安琪拉下限再次提升，中路上分首选", "cover": "https://itea-cdn.qq.com/file/tgl/20190801/cfcd208495d565ef66e7dff9f98764da.1564663108.3ae6598382d0152ff4ecdeaff5c05109.230x140_23155.jpg", "body": "" }, { "title": "S16辅助国服荣耀战力排榜|鬼谷子稳居前三，黑马的她排在榜首", "cate": "5eaa8f2d598d8c08a48967d8", "desc": "S16辅助国服荣耀战力排榜|鬼谷子稳居前三，黑马的她排在榜首", "cover": "https://itea-cdn.qq.com/file/tgl/20190731/6da9003b743b65f4c0ccd295cc484e57.1564558615.656819319d1c8b7b96b6be2137fb78b5.230x140_62701.jpg", "body": "" }, { "title": "辅助英雄又引玩家们吐槽，三种出门思路到底该选哪一种好？", "cate": "5eaa8f2d598d8c08a48967d8", "desc": "辅助英雄又引玩家们吐槽，三种出门思路到底该选哪一种好？", "cover": "https://itea-cdn.qq.com/file/tgl/20190731/903ce9225fca3e988c2af215d4e544d3.1564562825.6823dae008c0961396585188126858ce.230x140_14746.jpg", "body": "" }, { "title": "峡谷小短腿，输出扛大旗——鲁班七号 进阶攻略", "cate": "5eaa8f2d598d8c08a48967d8", "desc": "相信很多玩家都购买了S16的战令，在战令皮肤醒狮的加持下，很多玩家都会去试着重新接触这个被所有玩家调侃的小卤蛋。在几个版本的累积改动下，现阶段的鲁班除了无位移，已经是一个很成熟的射手英雄，具有后期超高的团战AOE输出，以及超强的前期推塔能力，发育能力，这篇攻略为大家带来鲁班的详细玩法。", "cover": "https://shp.qpic.cn/cfwebcap/0/a8c46a69d38abc5c9892261e38185773/0/?width=230&height=140", "body": "" }, { "title": "S16上分三大辅助！用瑶拿金牌，用她稳星耀！他才是王者!", "cate": "5eaa8f2d598d8c08a48967d8", "desc": "S16上分三大辅助！用瑶拿金牌，用她稳星耀！他才是王者!", "cover": "https://itea-cdn.qq.com/file/tgl/20190730/0e5d3556154fd589bfd3fd1940ef2905.1564476384.d5ce7b3a5f6d90008d2e867cabddc0fc.230x140_58999.jpg", "body": "" }]
    let official = [{ "title": "马超：兄弟的热血不会白流，西凉的纯洁我来守护", "cate": "5eaa8f4f598d8c08a48967d9", "desc": "", "cover": "https://shp.qpic.cn/cfwebcap/0/6a1420625349827f075de3b38d89ff3d/0/?width=230&height=140", "body": "" }, { "title": "王者荣耀首批金牌特权门店现已上线", "cate": "5eaa8f4f598d8c08a48967d9", "desc": "", "cover": "https://shp.qpic.cn/cfwebcap/0/952e1b385c626f1a6f54bf12d974c25a/0/?width=230&height=140", "body": "" }, { "title": "吃喝玩 赚一夏 来王者人生享暑期豪礼！", "cate": "5eaa8f4f598d8c08a48967d9", "desc": "打游戏赚品牌优惠，承包你的吃喝玩乐；\n到店开黑，满级铭文、特权英雄、皮肤免费用；\n福利抽奖，百分百有奖；", "cover": "https://shp.qpic.cn/cfwebcap/0/7cd4951fdcf9a47779a8175fa73c7af1/0/?width=230&height=140", "body": "" }, { "title": "英雄故事 | 孙膑：为了我的挚友，流动吧，时间之力！", "cate": "5eaa8f4f598d8c08a48967d9", "desc": "", "cover": "https://shp.qpic.cn/cfwebcap/0/b0bfa37d5549734d96debd154358888b/0/?width=230&height=140", "body": "" }, { "title": "云中君vs瑶：隔着一颗眼泪，也看不清生死的羁绊", "cate": "5eaa8f4f598d8c08a48967d9", "desc": "", "cover": "https://shp.qpic.cn/cfwebcap/0/27cdca796c0f520fbce6f61536d1cb51/0/?width=230&height=140", "body": "" }, { "title": "中二少年的独白：我就是想证明自己", "cate": "5eaa8f4f598d8c08a48967d9", "desc": "", "cover": "https://shp.qpic.cn/cfwebcap/0/0b2742a68d0c30046a9b751b2c1733ae/0/?width=230&height=140", "body": "" }, { "title": "王者世界观体验站更新！绝密档案已曝光", "cate": "5eaa8f4f598d8c08a48967d9", "desc": "", "cover": "https://shp.qpic.cn/cfwebcap/0/b179d7510c7e2a1087c043766a972c3f/0/?width=230&height=140", "body": "" }, { "title": "英雄故事 | 曜-星辰之子", "cate": "5eaa8f4f598d8c08a48967d9", "desc": "", "cover": "https://shp.qpic.cn/cfwebcap/0/8006f57e49f156441ca43784b8644d04/0/?width=230&height=140", "body": "" }, { "title": "稷下学院 | 诸葛学长带你逛母校", "cate": "5eaa8f4f598d8c08a48967d9", "desc": "", "cover": "https://shp.qpic.cn/cfwebcap/0/9e5fbde7944361ae0a81c01142a11c1e/0/?width=230&height=140", "body": "" }, { "title": "王者大陆行 | 云中漠地-都护府", "cate": "5eaa8f4f598d8c08a48967d9", "desc": "", "cover": "https://shp.qpic.cn/cfwebcap/0/baea4fbea5add7ab7404e23d7650e104/0/?width=230&height=140", "body": "" }, { "title": "王者大陆行 | 云中漠地-千窟城", "cate": "5eaa8f4f598d8c08a48967d9", "desc": "", "cover": "https://shp.qpic.cn/cfwebcap/0/a75eca0408b2ef7a81f0ad4add6b611a/0/?width=230&height=140", "body": "" }, { "title": "英雄故事 | 云中君：小鹿女，你的谎言我都懂", "cate": "5eaa8f4f598d8c08a48967d9", "desc": "", "cover": "https://shp.qpic.cn/cfwebcap/0/150adce63d4d8f0c7575f3e88d852255/0/?width=230&height=140", "body": "" }, { "title": "英雄故事 | 云中君：不是天使，胜是天使", "cate": "5eaa8f4f598d8c08a48967d9", "desc": "", "cover": "https://shp.qpic.cn/cfwebcap/0/4994706713e802d3b4985bfe52e51a2a/0/?width=230&height=140", "body": "" }, { "title": "英雄小传 | 第一个全程飞的英雄，必承受更多痛苦！", "cate": "5eaa8f4f598d8c08a48967d9", "desc": "英雄小传 | 第一个全程飞的英雄，必承受更多痛苦！", "cover": "https://shp.qpic.cn/cfwebcap/0/3a877748232c96c1711904f872b88737/0/?width=230&height=140", "body": "" }, { "title": "王者大陆行 | 云中漠地-玉城", "cate": "5eaa8f4f598d8c08a48967d9", "desc": "王者大陆行 | 云中漠地-玉城", "cover": "https://shp.qpic.cn/cfwebcap/0/adade14f5990bc18d0e024dd8a175d27/0/?width=230&height=140", "body": "" }, { "title": "英雄故事 | 瑶-过去生于未来", "cate": "5eaa8f4f598d8c08a48967d9", "desc": "英雄故事 | 瑶-过去生于未来", "cover": "https://shp.qpic.cn/cfwebcap/0/33b05fb59efff9b2a4619dc3e1ea4ff7/0/?width=230&height=140", "body": "" }]
    let fish = [{ "title": "王者荣耀除了需要熟练度，常见细节技巧分享，高端局玩家都知道", "cate": "5eaa8f54598d8c08a48967da", "desc": "王者荣耀除了需要熟练度，常见细节技巧分享，高端局玩家都知道", "cover": "https://itea-cdn.qq.com/file/tgl/20190724/bf58dde0eae7ed9a9d0f34398114b549.1563953637.749d4f23ff7944ce316231955293f7f4.230x140_64704.jpg", "body": "" }, { "title": "王者荣耀：超强实战中路游走技巧，学好三大原则轻松上分", "cate": "5eaa8f54598d8c08a48967da", "desc": "王者荣耀：超强实战中路游走技巧，学好三大原则轻松上分", "cover": "https://itea-cdn.qq.com/file/tgl/20190715/02e74f10e0327ad868d138f2b4fdd6f0.1563167064.84d08c51c719aea1ab113f9b80921bb6.230x140_88394.jpg", "body": "" }, { "title": "全英雄铭文搭配思路，干货教程-战士篇", "cate": "5eaa8f54598d8c08a48967da", "desc": "全英雄铭文搭配思路，干货教程-战士篇", "cover": "https://itea-cdn.qq.com/file/tgl/20190713/22c25c4f633efd5c33709cc12e60ac9b.1562949914.01a72a26af86b805b1cbde5c6fda25fe.230x140_18586.jpg", "body": "" }, { "title": "全英雄铭文搭配思路，干货教程-刺客+辅助篇", "cate": "5eaa8f54598d8c08a48967da", "desc": "全英雄铭文搭配思路，干货教程-刺客+辅助篇", "cover": "https://itea-cdn.qq.com/file/tgl/20190713/cd53d53ef16137b6446a595b0c09b808.1562950751.0786380e3ce07bee8ce71cd7ee82f1e3.230x140_16668.jpg", "body": "" }, { "title": "鞋子作为6大神装之一，每人必出，但你真的对它研究过吗？", "cate": "5eaa8f54598d8c08a48967da", "desc": "鞋子作为6大神装之一，每人必出，但你真的对它研究过吗？", "cover": "https://itea-cdn.qq.com/file/tgl/20190713/ccb3d22a44e997e6b33296013a6383b3.1562987847.75d1dc343f85e661887755df3db8ef76.230x140_20839.jpg", "body": "" }, { "title": "王者荣耀：领悟装备中“唯一被动”的意思，别再被说不会出装了", "cate": "5eaa8f54598d8c08a48967da", "desc": "王者荣耀：领悟装备中“唯一被动”的意思，别再被说不会出装了", "cover": "https://itea-cdn.qq.com/file/tgl/20190709/4134d9e2acb614ea98c12902490a8541.1562656487.ad2289a391fbeb879ae38941f82af8bf.230x140_16538.jpg", "body": "" }, { "title": "王者荣耀：如何成为一名优秀的上单玩家？这十点意识你必须掌握！", "cate": "5eaa8f54598d8c08a48967da", "desc": "王者荣耀：如何成为一名优秀的上单玩家？这十点意识你必须掌握！", "cover": "https://itea-cdn.qq.com/file/tgl/20190710/0ac88cfa3358a41a848a0996ba2980d1.1562760261.c6b7c09ebef1df462c7df296aa94cc46.230x140_7096.jpg", "body": "" }, { "title": "王者荣耀：常用铭文搭配，真的很详细啦", "cate": "5eaa8f54598d8c08a48967da", "desc": "王者荣耀：常用铭文搭配，真的很详细啦", "cover": "https://itea-cdn.qq.com/file/tgl/20190628/4134d9e2acb614ea98c12902490a8541.1561707086.1aea7d895e4c6afdca57e1547e6becfd.230x140_16538.jpg", "body": "" }, { "title": "上分攻略︱这件装备虽然冷门，但却是射手英雄的翻盘利器！", "cate": "5eaa8f54598d8c08a48967da", "desc": "上分攻略︱这件装备虽然冷门，但却是射手英雄的翻盘利器！", "cover": "https://itea-cdn.qq.com/file/tgl/20190623/c81e728d9d4c2f636f067f89cc14862c.1561227097.8ed946a29c732181c6c469af7bd4a3ff.230x140_49973.jpg", "body": "" }, { "title": "王者荣耀：上单第一件出暗影战斧，难怪守塔守不住", "cate": "5eaa8f54598d8c08a48967da", "desc": "王者荣耀：上单第一件出暗影战斧，难怪守塔守不住", "cover": "https://itea-cdn.qq.com/file/tgl/20190618/d612ae2e1245a287f727b3b758d70e9f.1560835832.6ea731298b68e947584a4a511fcf84f3.230x140_12022.jpg", "body": "" }, { "title": "王者荣耀：很难出的装备，破晓ADC必出，破军看情况，贤者尴尬", "cate": "5eaa8f54598d8c08a48967da", "desc": "王者荣耀：很难出的装备，破晓ADC必出，破军看情况，贤者尴尬", "cover": "https://itea-cdn.qq.com/file/tgl/20190613/c81e728d9d4c2f636f067f89cc14862c.1560392596.4ac5f197c8c25020e1fec1e540afdf83.230x140_19684.jpg", "body": "" }, { "title": "王者荣耀S15法师通用铭文 新赛季法师铭文怎么搭配", "cate": "5eaa8f54598d8c08a48967da", "desc": "王者荣耀S15法师通用铭文 新赛季法师铭文怎么搭配", "cover": "https://itea-cdn.qq.com/file/tgl/20190614/d64288cca2eed9b7fa8762d4822490f7.1560500295.0b3a8d01ce4aa02db7571f43e92598a1.230x140_19501.jpg", "body": "" }, { "title": "打野修炼手册：作为打野，如何呼风唤雨，掌控节奏，拿下胜利？", "cate": "5eaa8f54598d8c08a48967da", "desc": "打野修炼手册：作为打野，如何呼风唤雨，掌控节奏，拿下胜利？", "cover": "https://itea-cdn.qq.com/file/tgl/20190524/4dd8f10a65df6c0daadd17d9785d257f.1558712716.32f439e02d6092b071215d7b89d32355.230x140_5469.jpg", "body": "" }, { "title": "【虎扑攻略】S15五排最简单上分法则：拒绝花里胡哨，保护我方输出", "cate": "5eaa8f54598d8c08a48967da", "desc": "虎扑攻略", "cover": "https://shp.qpic.cn/cfwebcap/0/0b32c8593bcb7baf62365634c0c7493c/0/?width=230&height=140", "body": "" }, { "title": "玩辅助不会站位开视野？这里教你轻松学会辅助的所有视野站位", "cate": "5eaa8f54598d8c08a48967da", "desc": "玩辅助不会站位开视野？这里教你轻松学会辅助的所有视野站位", "cover": "https://itea-cdn.qq.com/file/tgl/20190517/424de7a8a3c9bb09f108f4f24d597297.1558087000.ade3dafb7c7a4f67049e151830a3f768.230x140_9427.jpg", "body": "" }, { "title": "哪些装备好用？真正的作用你清楚吗？", "cate": "5eaa8f54598d8c08a48967da", "desc": "哪些装备好用？真正的作用你清楚吗？", "cover": "https://itea-cdn.qq.com/file/tgl/20190517/291e57f744222bcb7e7254061eb6d36b.1558070541.71ceed3d48109b68f78b5718e22e984e.230x140_50682.jpg", "body": "" }]

    await Strategy.insertMany(heroes)
    await Strategy.insertMany(official)
    await Strategy.insertMany(fish)

    res.send(await Strategy.find())

  })

  router.get('/strategies/list', async (req, res) => {
    const data = await Strategy.find().populate('cate')
    let list = [
    {
      name: '英雄',
      list: data.filter(v => {
        return v.cate.name == '英雄'
      })
    }, {
      name: '官方',
      list: data.filter(v => {
        return v.cate.name == '官方'
      })
    }, {
      name: '新手',
      list: data.filter(v => {
        return v.cate.name == '新手'
      })
    }, ]
    res.send(list)
  })

  router.get('/strategies/:id', async (req, res) => {
    const data = await Strategy.findById(req.params.id).lean() // 没有lean无法添加属性
    data.related = await Strategy.find().where({
      cate: { $in: data.cate },
      title: { $ne: data.title }
    }).limit(2)
    res.send(data)
  })

  router.get('/races/init', async (req, res) => {
    await Race.deleteMany({})
    cateName = ["5eafb699d67dad1d887e3f34", "5eafd98f5246d42604f95873", "5eafb74dd67dad1d887e3f35", "5eafb758d67dad1d887e3f36", "5eafb765d67dad1d887e3f37", "5eafb76ad67dad1d887e3f38", "5eafb770d67dad1d887e3f39", "5eafb776d67dad1d887e3f3a"]
    let allRace = [{ "recesList": [{ "title": "《王者荣耀》开黑团聚夜爆笑落下帷幕，诺言典韦凶猛、晨阳娜可露露引领节奏" }, { "title": "五五开黑乐诺言、刺痛在线“带货”，全明星表演赛久诚露娜豪取双杀" }, { "title": "【简讯】LGD大鹅成为2020年KPL春季赛首个锁定季后赛资格队伍" }, { "title": "你是赛评师：LGD大鹅极致运营零封武汉ES，武汉ES为何会惨败？" }, { "title": "春季赛快讯：LGD大鹅完胜武汉ES，大乔无兵线推塔流可攻可守" }, { "title": "春季赛快讯：VG火力全开零封YTG，易瞳露娜再显实力" }, { "title": "春季赛快讯：TS速战速决3-1战胜RW侠，暖阳赵云强势出击引领胜局" }, { "title": "【KPL今日预报】武汉eStarPro vs LGD大鹅，谁家套路深似海？" }, { "title": "春季赛快讯：RW侠强势零封南京Hero，Huayun狄仁杰细致走位灵活输出" }, { "title": "你是赛评师：DYG.久诚西施掌控决胜局节奏，广州TTG.XQ输在哪里？" }, { "title": "春季赛快讯：DYG鏖战五局击败广州TTG.XQ，钎城蒙犽四杀难救世" }, { "title": "【KPL今日预报】广州TTG.XQ vs DYG，法王的自证" }, { "title": "你是赛评师：重庆QG34分45秒击败上海EDG.M，25分后100%胜率有何玄机" }, { "title": "春季赛快讯：重庆QG鏖战五局击败上海EDG.M，重庆QG比赛时长可长可短" }, { "title": "你是赛评师：WE.小A上官婉儿强袭RNG.M双C，不斩无名之辈的他们强在哪里？" }, { "title": "春季赛快讯：WE击败强敌RNG.M，小A上官婉儿笔连墨进击穿后排" }, { "title": "【KPL今日预报】RNG.M vs WE，老友相见，谁抬走谁？" }, { "title": "你是赛评师：成都AG.一诺马可波罗带头冲锋赢下决胜局，险胜GK的他们赢在哪里？" }, { "title": "春季赛快讯：成都AG决胜局击败GK，一诺马可波罗带头冲锋三连决胜" }, { "title": "春季赛快讯：TS击败TES喜迎三连胜，暖阳赵云灵活出击掌控节奏" }, { "title": "嘴强王者：KPL赛场掀起队内位置轮换热潮，专精和全面发展哪个更好？" }, { "title": "【KPL今日预报】GK vs 成都AG超玩会，带头冲锋" }, { "title": "王者电竞周刊：DYG久诚嫦娥翩翩起舞获三杀，LGD大鹅、DYG笑傲东西群雄" }, { "title": "KPL春季赛第六周周最佳出炉：LGD大鹅.江城、成都AG.一诺斩获双料周最佳" }, { "title": "赛事战令战队专属回城特效4月30日12:00上线，快来兑换你的主队回城特效！" }, { "title": "春季赛快讯：广东TTG.XQ零封上海EDG.M，绑兔娜可露露引领节奏速战速决" }, { "title": "你是赛评师：LGD大鹅.江城百里玄策暴走零封RW侠，新军黑马成色几分？" }, { "title": "春季赛快讯：LGD大鹅零封RW侠，新军阵容多、套路深未来可期" }, { "title": "春季赛快讯：TS让二追三击败GK，千世嬴政火力压制横扫战场" }, { "title": "【KPL今日预报】RW侠 vs LGD大鹅，挑战不可能" }, { "title": "你是赛评师：Cat回归武汉ES轻取VG，他为武汉ES带来了什么不同？" }, { "title": "春季赛快讯：武汉ES稳定发挥击败VG，猫神回归指挥全局引领节奏" }, { "title": "你是赛评师：成都AG零封RNG.M将其连胜终结，谁是这场巅峰交战的关键先生？" }, { "title": "春季赛快讯：成都AG零封RNG.M，一诺裴擒虎丝血脱战回首双杀" }, { "title": "春季赛快讯： TES让一追三击败YTG，莽夫相逢勇者胜" }, { "title": "【KPL今日预报】成都AG超玩会 vs RNG.M，RNG.M能否斩获八连胜？" }, { "title": "你是赛评师：WE.Best蒙犽贴脸输出零封重庆QG，冠军杀手到底强在哪？" }, { "title": "春季赛快讯：WE一莽到底零封重庆QG，Best蒙犽贴脸输出可还行？" }, { "title": "你是赛评师：DYG终极四保一逆转战局，南京Hero距离胜利到底缺少什么？" }, { "title": "春季赛快讯：DYG有惊无险击败南京Hero，终极四保一阵容克敌制胜" }, { "title": "【KPL今日预报】南京Hero久竞 vs DYG，DYG.久诚迎战老东家能否取胜" }, { "title": "春季赛快讯：RW侠零封上海EDG.M终结连败，上海EDG.M阵容不定状态不稳" }, { "title": "你是赛评师：TS.暖阳娜可露露强势连续单杀，TS为什么会觉醒？" }, { "title": "春季赛快讯：TS让一追三击败广州TTG.XQ，暖阳娜可露露上演连续单杀" }, { "title": "【KPL今日预报】广州TTG.XQ vs TS，谁能拿下关键一分？" }, { "title": "春季赛快讯：重庆QG鏖战五局击败GK斩获五连胜，飞牛狂铁抗伤开团带动节奏" }, { "title": "嘴强王者：KPL战术套路频出，哪个套路深得人心？" }, { "title": "你是赛评师：RNG.M轻取南京Hero喜迎七连胜，成都AG能阻击他们的连胜脚步吗" }, { "title": "春季赛快讯：RNG.M零封南京Hero斩获七连胜，虔诚马可波罗暴力进场一打三" }, { "title": "KPL春季赛鱼你说第五期：江城一举斩获四杀，花海后羿炸裂输出" }] }, { "recesList": [{ "title": "Fly：答案在风中飞扬" }, { "title": "冬冠团聚夜全明星表演赛快讯：如何提高团队合作效率？OK就完事儿了" }, { "title": "聚有荣耀！冬冠团聚夜今日18:00正式开启，观看直播赢团聚机票" }, { "title": "QGhappy夺得冰凤凰杯成为“五冠王”，王者荣耀冬季冠军杯广州完美落幕" }, { "title": "冬冠总决赛：QG巅峰对决击败eStar迎来第五冠，Fly再次横刀立马斩获FMVP" }, { "title": "王者荣耀冬季冠军杯总决赛明日17:30开战，观赛赢冬冠之心回城特效！" }, { "title": "猫神FMVP皮肤挑战赛，连赢四局豪取八万奖励" }, { "title": "“猫神幻舞”5v5娱乐赛无心打野干将，诺言疯狂针对花海" }, { "title": "猫影幻舞挑战赛1月1日晚19：00开启 观赛得eStar荣耀回城特效" }, { "title": "冬冠淘汰赛快讯：复仇成功进军总决赛，QG奇招弹弓流击败AG超玩会" }, { "title": "冬冠淘汰赛快讯：星光闪耀!eStar巅峰对决击败TS进军冬冠总决赛" }, { "title": "冬冠淘汰赛快讯：AG超玩会顺利晋级半决赛，ROX不畏强敌赢下一局" }, { "title": "冬冠淘汰赛快讯：让一追四击败DYG.JC，TS赢下绝活对拼晋级四强" }, { "title": "冬冠淘汰赛快讯：eStar零封SLT晋级四强，花海公孙离、Cat杨玉环双双超神" }, { "title": "冬冠淘汰赛快讯：QG有惊无险晋级四强，GOG进步明显赢下一局" }, { "title": "【冬冠今日预报】eStarPro vs SLT，不同赛区间的巅峰对决" }, { "title": "点击寻找暗号，有机会赢取猫神-貂蝉-FMVP永久皮肤！" }, { "title": "2019年冬冠总决赛&amp;团聚夜门票今日12:00开售，多重精彩等你来看" }, { "title": "王者荣耀冬季冠军杯淘汰赛12月26日开战，八强对阵分组出炉" }, { "title": "冬季冠军杯快讯：TS、eStar携手入围淘汰赛，XQ五连胜遗憾离场" }, { "title": "冬季冠军杯快讯：eStar阻击XQ晋级形势大好，CW战队强势击败RW侠改写历史" }, { "title": "王者荣耀冬季冠军杯抽签仪式今晚举行，淘汰赛对阵即将揭晓！" }, { "title": "2019冬冠杯总决赛&amp;团聚夜门票明日开售，多重精彩等你来看" }, { "title": "冬季冠军杯快讯：TS气势如虹终结XQ连胜，KPL谁能突围扑朔迷离" }, { "title": "冬季冠军杯快讯：XQ五连胜领跑积分榜，RW侠两胜两负不容乐观" }, { "title": "冬季冠军杯总决赛、团聚夜明星阵容揭秘，门票12月24日正式开售" }, { "title": "冬季冠军杯快讯：TS二连胜状态良好，大乔体系逆转局势击败RW侠" }, { "title": "冬季冠军杯选拔赛今日15：00热血开战，王者无界，聚有荣耀！" }, { "title": "冬季冠军杯快讯：XQ二连胜一马当先，九尾中路关羽秀出新高度" }, { "title": "冬冠选拔赛：赛区对抗再度上演，狼真的来了吗？" }, { "title": "2019年王者荣耀冬季冠军杯赛事规则" }, { "title": "2019王者荣耀冬季冠军杯 团聚夜人气票选" }, { "title": "倒计时2天！王者无界聚有荣耀 eStarPro.Cat与你一同期待冬季冠军杯" }, { "title": "王者无界聚有荣耀，AG超玩会.一诺与你一同期待冬季冠军杯" }, { "title": "2019冬季冠军杯KPL、KRKPL赛区出征名单公示" }, { "title": "2019王者荣耀冬季冠军杯选拔赛12月21日中国澳门开战，门票12月9日正式开售" }, { "title": "冬季冠军杯：KRKPL赛区出征，我们中国澳门见！" }, { "title": "2019年王者荣耀冬季冠军杯赛制与名额规则公布！" }, { "title": "【关于王者荣耀赛事积分年与世冠名额获取规则调整公告】" }, { "title": "世冠鱼乐战报-冠军是eStarPro！" }, { "title": "嘴强王者：eStarPro斩获首个世冠总冠军，你想说些什么？" }, { "title": "王者电竞周刊：eStar斩获世冠冠军，猫神收获首个FMVP" }, { "title": "2019王者荣耀世界冠军杯总决赛FMVP定制皮肤，eStar.Cat选择初心貂蝉" }, { "title": "加冕双冠，世冠见证eStarPro王朝开启" }, { "title": "【昨日回顾】8月10日世冠总决赛赛场瞬间，你们是最亮的星！" }, { "title": "为eStarPro冠军点赞，得eStarPro冠军头像框" }, { "title": "你是赛评师：绝对核心猫神荣获世冠FMVP，你期待的冠军皮肤是哪个？" }, { "title": "KCC总决赛快讯：猫神带领eStarPro登顶世冠之巅收获FMVP" }, { "title": "我们是世冠冠军！这个2019，eStarPro注定是最璀璨的那颗星" }, { "title": "世冠总决赛今日16:30打响，RW、eStarPro谁将夺得首个世冠冠军？" }] }, { "recesList": [{ "title": "KPLGT快讯：ROX让一追三战胜ESC，Yu化身边路霸主连斩三局MVP" }, { "title": "KPLGT快讯：ESG鏖战五局险胜Nova，Shile公孙离灵动输出三杀超神" }, { "title": "KPLGT快讯：CW战胜EMC，Chao王昭君精准控场" }, { "title": "赛事预测：ESC能否触底反弹？" }, { "title": "KPLGT第六周前瞻：常规赛最后一周，八仙过海，各显神通" }, { "title": "KPLGT第五周回顾：MTG连胜终结初尝败果，VSG猪核体系建奇功" }, { "title": "KPLGT快讯：MTG让一追三击败CW，Mf兰陵王化身后排梦魇精准收割" }, { "title": "KPLGT快讯：GOG零封ESC，YiLian孙尚香爆炸输出枪枪致命" }, { "title": "KPLGT快讯：VSG击败ROX再下一城，猪核体系野区一拖五再建奇功" }, { "title": "KPLGT快讯：EMC干净利落零封ESG，ORANGE关羽千里绕后单骑切C" }, { "title": "KPLGT快讯：GOG战胜CW终结连败，Kenshin不知火舞天秀切C逆转局势" }, { "title": "KPLGT快讯：VSG终结MTG十二连胜，Dong马超无限突刺狂斩四杀" }, { "title": "KPLGT快讯：ROX3：1战胜NOVA，Xiaoqi嫦娥团战一打四势不可挡" }, { "title": "KPLGT赛事预测：NOVA能否找回状态，一扫颓势？" }, { "title": "KPLGT快讯：ROX击溃强敌GOG，Xiaoqi王昭君怒抢龙王绝地翻盘" }, { "title": "KPLGT赛事预测：全韩班ESC能否一扫颓势，找回状态" }, { "title": "KPLGT快讯：EMC火力全开战胜ESG，QY上官婉儿暴走开团豪取四杀" }, { "title": "KPLGT快讯：CW细节拉满战胜ESC，Gin蒙犽重炮轰炸横扫战场" }, { "title": "KPLGT赛事预测：面对人员轮换的EMC，ESG能否一举拿下" }, { "title": "KPLGT快讯：MTG强势零封ESC，Evil马可波罗狂热弹幕怒斩三杀" }, { "title": "KPLGT快讯：VSG奇招频出零封Nova，Aim姜子牙反向大闪精准收割" }, { "title": "KPLGT快讯：CW苦战五局险胜ROX，Gin虞姬光速换装绝地反杀" }, { "title": "KPLGT第五周前瞻：GOG急欲终结连败，中部战队全员变“莽夫”？" }, { "title": "KPLGT第四周回顾：GOG不胜MTG魔咒难破，VSG疯狂吃分紧追不舍" }, { "title": "KPLGT快讯：EMC战胜NOVA，AOLIN超神赵云极限抢龙逆转乾坤" }, { "title": "KPLGT快讯：VSG强势零封ESC，XingC狂铁化身不死战神暴力切C" }, { "title": "KPLGT快讯：ESG鏖战五局击败CW，QingH公孙离伤害拉满终结比赛" }, { "title": "KPLGT快讯：EMC战胜ROX，AOLIN猪八戒天蓬下凡制霸野区" }, { "title": "KPLGT快讯：MTG零封GOG捍卫荣耀，Mf兰陵王神出鬼没上演致命威胁" }, { "title": "KPLGT快讯：VSG鏖战五局战胜ESG，Aim嬴政万箭齐发输出爆炸" }, { "title": "KPLGT赛事预测：ROX状态能否回暖" }, { "title": "KPLGT快讯：MTG击败EMC豪取十连胜，Evil狄仁杰追凶夺命怒斩三杀" }, { "title": "KPLGT快讯：ESG让二追三终结GOG连胜，yChen上官婉儿千里奔袭强秒C位" }, { "title": "KPLGT赛事预测：MTG 3:0 EMC橘子尚未首发" }, { "title": "KPLGT快讯：CW绝地翻盘战胜VSG，Chao王昭君精准控场诠释冰雪奥义" }, { "title": "KPLGT快讯：EMC战胜ESC赢下“双E大战”，Orange吕布魔神降世威震峡" }, { "title": "KPLGT快讯：GOG零封Nova，鲁班大师+姜子牙“弹弓组合”出奇效" }, { "title": "KPLGT快讯：MTG零封ESG九连胜势不可挡，Evil公孙离灵活输出豪取三杀" }, { "title": "KPLGT第四周赛事前瞻：双G再战谁能笑到最后，抢分大战谁将杀出重围" }, { "title": "KPLGT第三周回顾：双G持续连胜霸榜，新版本各大战队纷纷发力" }, { "title": "KPLGT快讯：VSG鏖战五局险胜ESC，Dong猪八戒四连超凡恍若天神下凡" }, { "title": "KPLGT快讯：EMC零封NOVA，QY嫦娥以一敌四力挽狂澜" }, { "title": "KPLGT快讯：GOG零封ROX豪取七连胜，Dan马超以一敌二绝地反杀" }, { "title": "KPLGT快讯：全韩班ESC零封CW终结连败，Jy铠皇偷家逆转局势" }, { "title": "KPLGT快讯：CW鏖战五局击败ROX，Jayden盾山开团保C样样精通" }, { "title": "KPLGT快讯：MTG零封ESC，JiuLong马超强势绕后如入无人之境" }, { "title": "KPLGT快讯：VSG稳扎稳打战胜NOVA，Lyu大乔化身团战永动机无限续航" }, { "title": "KPLGT快讯：VSG新招频出战胜EMC，XingC全肉吕布出奇效" }, { "title": "KPLGT快讯：GOG零封ESG狂砍小局十八连胜，YiLian公孙离灵巧位移踪影" }, { "title": "KPLGT快讯：MTG零封Nova豪取七连胜，Msir嫦娥天秀守家极限翻盘" }] }, { "recesList": [{ "title": "王者荣耀城市赛套路阵容盘点 震雷削组合支配恐惧" }, { "title": "五个位置的“新星”英雄，供城市赛选手们参考搭配，出奇制胜！" }, { "title": "大众赛事合作赛道全面开启，携手合作伙伴共建王者电竞生态" }, { "title": "大众赛事体系“零门槛”打通路人与职业的晋级丨大湾区之声专访" }, { "title": "【五五开黑节，战队特邀赛来袭】" }, { "title": "凝星聚力圆梦行！华为HIGAME王者荣耀春季赛报名开启！" }, { "title": "《一招即浪》第三期：蒙犽跌落神坛？一招教你重回城市赛巅峰" }, { "title": "王者荣耀城市赛各位置热门英雄盘点：西施引领中单工具人打法" }, { "title": "《一招即浪》第二期：逆天牛魔王最浪打法，城市赛教你一招制敌" }, { "title": "刺痛&amp;久诚：大众赛事带来的职业梦" }, { "title": "为战队争夺荣誉！城市联赛战队赛通道报名开启！" }, { "title": "“王者荣耀城市联赛合作赛事暨北京联通双千兆极速挑战赛”开赛" }, { "title": "《一招即浪》第一期：白起强势归来，教你如何化身“边路杀神”" }, { "title": "玩音乐也是王者！原创内容大赛首届音乐比赛今日正式报名" }, { "title": "《王者荣耀》城市赛选手看过来！新版本“玄雍危机”热门英雄玩法盘点" }, { "title": "王者荣耀大型合作赛--快手王者荣耀全民挑战赛报名开启" }, { "title": "触手王者荣耀新秀杯报名启动 全国大赛邀请赛名额等你来战" }, { "title": "大众赛事开赛在即！牢记要点轻松参与" }, { "title": "参与王者荣耀大众赛事，赢取个人电竞荣誉和专属道具奖励！" }, { "title": "开启全民电竞之路！一图读懂如何参与大众赛" }, { "title": "王者荣耀大众赛事将迎来全面升级" }, { "title": "电竞携手传统体育新篇章，王者荣耀城市赛代表团正式到访曼城" }, { "title": "王者荣耀城市赛：电竞赛事的另一种打开方式" }, { "title": "第七届王者荣耀城市赛总决赛完美收官 城市专属头像框等你来兑换" }, { "title": "西湖决战夜，成都JL战队夺第七届城市赛全国总冠军" }, { "title": "王者荣耀城市赛总决赛落幕，决战秀美杭城成都JL战队终捧杯" }, { "title": "西湖之巅决战夜，第七届王者荣耀城市赛全国总决赛来袭！" }, { "title": "微赛事助力王者荣耀城市赛全国总决赛，明星主播助阵为城市荣耀而战" }, { "title": "四强决战西湖之巅，第七届王者荣耀城市赛一触即发！" }, { "title": "竞猜王者荣耀城市赛总决赛冠军，“城市探秘”Q币奖励加码" }, { "title": "竞猜城市赛总决赛冠军，线上“城市探秘”加码送好礼！" }, { "title": "第七届城市赛半决赛晋级队伍诞生，11月23日总决赛即将打响！" }, { "title": "微赛事专题赛再度开启，为城市荣耀而战！" }, { "title": "双倍积分“通道”再次开启  城市探秘活动邀你竞猜本周入围队伍" }, { "title": "佛山“舞狮”助兴  城市赛全国半决赛精彩对抗即将来临！" }, { "title": "回忆“彩云之滇”上的电竞，王者荣耀城市赛全国大赛圆满落幕！" }, { "title": "城市“峡谷探秘”主题活动火热进行，答题闯关轻松赢积分礼品！" }, { "title": "踏上新征途，第七届王者荣耀城市赛全国大赛开幕式暨小组赛即将开启！" }, { "title": "城市赛全国大赛即将开启，线上“峡谷探秘”活动宝典请签收！" }, { "title": "首届甘肃省文旅杯电子竞技邀请赛报名通道开启，速来围观！" }, { "title": "城市赛全国大赛即将来袭！线上玩探秘游戏，解锁王者之城" }, { "title": "第七届王者荣耀城市赛省赛深圳站 · 科技电竞，再燃热血！" }, { "title": "走进人民体育 携手5G多视角，看城市赛的王者时刻" }, { "title": "八月尾，终章奏！王者荣耀城市赛省赛最后一周即将开启！" }, { "title": "王者荣耀城市赛省赛·深圳站| 王者云集，全城瞩目，剑指巅峰。" }, { "title": "金陵战意浓今秋，天翼携手王者城市赛决战南京！" }, { "title": "第七届王者荣耀城市赛安徽省决赛在铜陵市政府广场圆满落幕" }, { "title": "第七届王者荣耀城市赛安徽省决赛即将绽放“铜都”" }, { "title": "古韵中的电竞，城市赛省赛再燃热血！" }, { "title": "【电子竞技走进原生态草原】第七届王者荣耀城市赛内蒙古省赛完美落幕！" }] }, { "recesList": [{ "title": "强者来袭！策略协作型AI“绝悟”限时挑战开启，明星主播携手名校战队大战最强人机" }, { "title": "《一招即浪》第5期：花式“蹦迪”切后排，貂蝉如何逆袭C位出道" }, { "title": "【原创内容大赛音乐比赛】优秀作品合集（二）" }, { "title": "高校联赛分站赛圆满落幕，大区赛分组新鲜出炉" }, { "title": "第六届高校联赛分站赛--最后一周战报回顾" }, { "title": "高校联赛晋级战队心路历程：曾被队友抛弃 因热爱而坚持" }, { "title": "《一招即浪》第四期：一场比赛引发的友谊翻车！马超实力“演”队友？" }, { "title": "【原创内容大赛音乐比赛】剑仙 x 音乐人王璐带你解读游戏里的“国风”BGM" }, { "title": "王者荣耀高校联赛第二周 橘右京孙尚香大放异彩" }, { "title": "第六届高校联赛分站赛--第二周战报回顾" }, { "title": "【原创内容大赛音乐比赛】优秀作品合集（一）" }, { "title": "2020年高校联赛解说大赛报名结束  线上海选即将开启" }, { "title": "王者高校分站冠军谈社团文化：摆脱传统电竞社桎梏，用小圈子影响更多人" }, { "title": "第六届高校联赛分站赛--首周战报回顾" }, { "title": "第六届高校联赛分站赛于本周末正式打响" }, { "title": "高校联赛分站赛即将打响 今年又有多少好玩的活动值得期待？" }, { "title": "玩音乐也是王者！原创内容大赛首届音乐比赛今日正式报名" }, { "title": "新英雄“镜”初露锋芒！明星召唤师带领高校社团选手开启镜之试炼！" }, { "title": "第六届王者荣耀全国高校联赛赛程调整公告" }, { "title": "高校联赛解说大赛正式开启报名" }, { "title": "名嘴之路即将启动！第二届王者荣耀高校解说大赛听你来说" }, { "title": "CP大作战，王者社团和明星主播谁更能“秀”" }, { "title": "明星主播 VS 校园CP，来一次甜蜜的线上约会吧！" }, { "title": "高校联赛女神挑战赛周末开赛啦！来看高颜值组合强强联手" }, { "title": "你和那个TA会是峡谷校园最佳CP吗？高校联赛白色情人节开启CP大作战！" }, { "title": "第三届原创内容大赛皮肤设计比赛获奖名单" }, { "title": "第三届原创内容大赛皮肤设计比赛入围名单公布" }, { "title": "高校王者社团x虎牙主播︱王者社团极限乱斗挑战赛趣味开战啦！" }, { "title": "王者社团极限乱斗挑战赛马上开启，虎牙主播和高校选手这次怎么玩" }, { "title": "峡谷英雄的全新演绎：高颜值学生霸气上演现代版“嬴政”“武则天”" }, { "title": "终极对决，邀你做教练！王者荣耀高校联赛赏金对抗赛决赛今日开启！" }, { "title": "王者少年的峡谷英雄梦--福建布谷鸟团队打造最美王者峡谷世界" }, { "title": "荣耀传承：高校学子创作英雄白起折纸工艺品" }, { "title": "假期狂欢季开启，高校区域联赛战队携手虎牙人气主播开战啦！" }, { "title": "高校自制定格动画：说出来你可能不信，我们的“作业”打起来了！" }, { "title": "假期狂欢季线上赏金对抗赛即将开启，这次由你当“教练”！" }, { "title": "历时72小时打造东北版《王者荣耀》，雪雕王者经典形象" }, { "title": "王者少年的英雄梦！高校打造文字矩阵空间通道装置" }, { "title": "一笔绘峡谷，一梦登王者！ 山东工艺美术学院“王者360度全景画”来了！" }, { "title": "校园共创，第六届王者荣耀高校联赛主题曲《王者少年英雄梦》强势来袭！" }, { "title": "高校自制57S动画短片：见证历届高校联赛荣耀时刻！" }, { "title": "王者少年的英雄梦 ！墨子荧光墙绘为高校联赛实力打call" }, { "title": "第六届王者荣耀高校区域联赛·广州站圆满收官" }, { "title": "王者荣耀区域联赛决赛回顾：最终战火的点燃！" }, { "title": "梦想中的王者峡谷世界--高校学生手绘360度沉浸式空间装置" }, { "title": "第六届高校区域联赛圆满结束，晋级名单及精彩回顾看这里！" }, { "title": "东方美学的数字“实战”，《王者荣耀》越剧皮肤登陆中国美术学院的课堂" }, { "title": "天冷多喝水战队勇夺桂冠，第六届王者荣耀高校联赛海选赛福建师范大学站圆满结束" }, { "title": "荣耀绽放 战至终章！《王者荣耀》第六届王者高校联赛区域联赛沈阳站决赛圆满收官" }, { "title": "王者少年决战英雄梦，四校强队角逐“最强校队”" }] }, { "recesList": [{ "title": "【战报】王者荣耀4月第二周C组：公孙离岑中归月 DC战队顺利登顶" }, { "title": "【战报】王者荣耀4月第三周：杨玉环锋芒毕露 HEC碾压取胜" }, { "title": "王者荣耀4月第三周：杨玉环锋芒毕露 HEC碾压取胜" }, { "title": "【战报】TGA王者荣耀3月月赛：关羽无人可挡 TS碾压夺冠" }, { "title": "【战报】王者荣耀4月第一周：团灭翻盘 King锁定周冠军" }, { "title": "【战报】王者荣耀4月第二周B组：强拆水晶 GQL获胜夺魁" }, { "title": "王者荣耀4月第二周B组：强拆水晶 GQL脱颖而出" }, { "title": "【战报】王者荣耀4月第一周：团灭翻盘 King锁定周冠军" }, { "title": "【战报】TGA王者荣耀3月月赛：关羽无人可挡 TS碾压夺冠" }, { "title": "TGA三月第一周战报：TS 2:0 King强势夺冠" }] }, { "recesList": [{ "title": "坤音四子ONER率队决战峡谷，杨迪爆笑解说聚星之夜" }, { "title": "聚星之夜明星熠熠，同台争锋谁才是最强C位" }, { "title": "聚星之夜王者集结，ONER带队峡谷开黑" }, { "title": "微信游戏邀请赛 聚星之夜－亚运冠军表演赛" }, { "title": "微信游戏邀请赛 聚星之夜－英雄模仿秀" }, { "title": "小渝后羿百发百中 丢丢呆萌模仿安琪拉" }, { "title": "微信游戏邀请赛 聚星之夜－C位争夺战" }, { "title": "许阿姨甜美开唱捉泥鳅 教父毒奶惨变“炮灰”" }, { "title": "婷小姐昭君冰封峡谷 锐雯童子相爱相杀" }, { "title": "兰息神级辅助拿下首胜 莉娅庄周被围丝血逃生" }, { "title": "莉娅发射爱心福利 安格大小姐挑战职业" }, { "title": "方言彩虹P层出不穷 小渝百万歌迷驾到" }, { "title": "长腿欧巴JY上线   王者荣耀趣事大揭底" }, { "title": "小迷弟SWEET大胆表白Alan" }, { "title": "杨迪在线百里教学 开黑趣事笑翻全场" }, { "title": "性感ku在线唱歌饶舌 八杰八杰心肠不坏" }, { "title": "峡谷歌神MC献歌ku 卖萌三连拍萌化你的心" }, { "title": "暖男YK表白粉丝 谢谢你们的爱" }, { "title": "Horror最爱吕布貂蝉CP  想走遍中国" }, { "title": "全能补位骚话不停 兰息揭秘上分秘诀" }, { "title": "骚话王Alan张口就来 谁是他心中最爱的人" }, { "title": "最美貂蝉灵魂附体 触手丢丢甜美驾到" }, { "title": "小新发际线退到月球 自曝被表白心情" }, { "title": "揭秘内心最强对手 狂浪蛙神骚话不停" }, { "title": "斗鱼教父灵魂作画 自曝更喜性感吊带" }, { "title": "被电竞耽误的歌手 童子开腔灵魂rap" }, { "title": "虎牙寒夜自爆鸽王 我是混子我啥都会" }, { "title": "婷小姐私授貂蝉秘诀 豪言势要单杀童子" }, { "title": "野区屠杀大魔王 游弋自言实力与美貌并存" }, { "title": "斗鱼最甜歌手许阿姨 颜粉音粉更爱谁" }, { "title": "灵超演绎现实版兰陵王 carry队友全靠手感" }, { "title": "木子洋开黑四缺一，最后选择竟是TA" }, { "title": "卜凡神还原队友开黑 ONER游戏状态大爆料" }, { "title": "游戏篮球更爱谁 岳岳记者上线首访粉丝" }, { "title": "国服最秀韩信驾到 烁哥亲传名侦探意识" }, { "title": "虎牙锐雯现场宠粉 化身三亿萝莉的梦" }, { "title": "微信游戏邀请赛即将收官！老朋友触手再相聚" }, { "title": "斗鱼出战微信游戏邀请赛，聚星之夜好戏开唱！" }, { "title": "微信游戏邀请赛即将收官，虎牙四将集结聚星之夜" }, { "title": "惊喜新面孔！企鹅电竞再会微信游戏邀请赛聚星之夜" }, { "title": "KRKPL冠军队乘风来袭，聚星之夜一展风采" }, { "title": "荣耀大使杨迪火热加盟，聚星之夜倾力解说" }, { "title": "坤音四子ONER跨界助阵，聚星之夜邀你来看" }, { "title": "微信游戏邀请赛聚星之夜，王者集结齐掀峡谷浪潮" }, { "title": "企鹅风导极限走位  虎牙童子屡次空狙" }, { "title": "虎牙童子貂蝉无事反蓝被四人吊打，企鹅诗仙残血七进七出秀死敌方" }, { "title": "世上最痛苦的事，企鹅诗仙赵云在你眼前，你也追不上他" }, { "title": "虎牙寒冰杨戬狗下无限连，秀几何斩杀" }, { "title": "斗鱼走肖秀蠢萌芈月，一心走着想要逆袭的艰辛之路" }, { "title": "上官婉儿×火影忍者，触手小鱼飞天暴风伤害" }] }, { "recesList": [{ "title": "王者模拟战职业大师赛快讯：低分组刺客阵容多次登顶，三星李白成型光速清场" }, { "title": "王者模拟战职业大师赛5月2日快讯：扶桑刺客昙花一现，高分组多家阵容各显神通" }, { "title": "王者模拟战职业大师赛5月1日快讯：稷下战士退下神坛，扶桑刺客强势崛起" }, { "title": "王者模拟战职业大师赛第三周看点解读：各组重新洗牌，卧虎又藏龙" }, { "title": "王者模拟战职业大师赛第二周，NMG破纪录三连登顶！45总积分一骑绝尘" }, { "title": "王者模拟战职业大师赛快讯：三星黄忠照样撂倒，稷下战士强横无比" }, { "title": "王者模拟战职业大师赛快讯：稷下战士暴力输出碾压全场，攻辅射输出拉满首登顶" }, { "title": "王者模拟战职业大师赛快讯：中分组九家战士大混战，九蜀成功下天山" }, { "title": "王者模拟战职业大师赛第二周看点解读：神仙打架&amp;黑马逆袭" }, { "title": "王者模拟战职业大师赛首周对抗，成都AG、武汉ES登顶二连闯入高分组" }, { "title": "王者模拟战职业大师赛快讯：C组百花齐放，长城小鲁班枪枪烈火成功登顶" }, { "title": "王者模拟战职业大师赛快讯：杨玉环稷下战士强无敌，博学者之怒定乾坤" }, { "title": "王者模拟战职业大师赛快讯：奶法&amp;稷下战士双分天下，各登顶两次" }, { "title": "2020年王者模拟战职业大师赛首周看点解读，老牌强队vs模拟战新秀" }, { "title": "王者模拟战职业大师赛-春季赛常规赛第一周选手首发名单" }, { "title": "王者模拟战职业大师赛春季赛规则讲解及赛程公布" }, { "title": "2020年王者模拟战职业大师赛春季赛正式大名单公布" }, { "title": "2020年王者模拟战职业大师赛春季赛大名单（首批）公布" }, { "title": "王者模拟战职业大师赛-春季赛4月17日正式开赛！全新赛制助力24支战队战火升级" }, { "title": "王者模拟战职业大师赛春季赛预选赛圆满结束！" }, { "title": "棋王辈出，龙争虎斗！王者模拟战职业大师赛·预选赛首轮便知潜力无限" }, { "title": "12支预选赛战队集结，2020年王者模拟战职业大师赛-春季赛预选赛3月16日开战" }, { "title": "群雄博弈对战峡谷，2020年王者模拟战职业大师赛-春季赛强势来袭" }, { "title": "教你赚更多的钱！新版本模拟战如何利用特价甩卖与天赋重铸？" }, { "title": "模拟战干货分享：上分快人一步！新赛季封神版本最强阵容推荐" }, { "title": "冬冠团聚夜王者模拟战双人表演赛落幕，斗鱼.白白白白白扶桑法刺带琪琪登顶" }, { "title": "冬冠团聚夜来袭，王者模拟战双人表演赛今日18:00等你来看" }, { "title": "侠客无畏秀出自我，RW侠成功登顶王者模拟战冬冠邀请赛总冠军" }, { "title": "王者模拟战冬冠邀请赛快讯：纳兰手手神奇坦射助RW侠夺冠" }, { "title": "王者模拟战冬季冠军杯邀请赛总决赛今日15:30开战，一起见证棋王诞生" }, { "title": "王者模拟战冬冠邀请赛快讯：三星黄忠爆炸输出成功登顶，八强聚首会师总决赛" }, { "title": "王者模拟战冬冠邀请赛快讯：长城射1血惊险获胜，七蜀下天山爆冷夺魁" }, { "title": "王者模拟战冬冠邀请赛组流阵容经久不衰，战坦刺法轮流夺魁" }, { "title": "王者模拟战冬冠邀请赛快讯：长城射手依旧强势，刺客大战精彩纷呈" }, { "title": "王者模拟战冬冠邀请赛16进8今日16:00开战，各路棋王决战峡谷" }, { "title": "策略与微操的结合！模拟战冬季冠军杯32进16名额出炉" }, { "title": "王者模拟战冬冠杯邀请赛快讯：魏国战士流满血第一，三星武则天输出爆表！" }, { "title": "王者模拟战冬冠杯邀请赛快讯：百家争鸣大魏天下流夺头魁" }, { "title": "王者模拟战冬冠杯邀请赛快讯：韩国选手集齐三星吕布，小浪晨z三连第一带队晋级" }, { "title": "王者模拟战冬冠杯邀请赛快讯：战士克星名不虚传，射手阵容显神威" }, { "title": "王者模拟战冬冠邀请赛外卡赛区晋级情况揭晓，王者营地选手天秀表现斩获第一" }, { "title": "模拟战冬季冠军杯分组情况及正赛赛程公布" }, { "title": "王者模拟战冬季冠军杯邀请赛即将开战，版权平台&amp;外卡赛区选手大名单公布" }, { "title": "个个都是狠角色！王者模拟战冬季冠军杯邀请赛参赛选手大起底" }, { "title": "八仙过海各显神通，王者模拟战明星选手大起底" }, { "title": "峡谷棋王，该我上场！王者模拟战冬季冠军杯邀请赛即将来袭" }, { "title": "首届王者模拟战邀请赛圆满落幕，YTG.安然加冕棋王" }, { "title": "王者模拟战邀请赛快讯：总决赛三星玄策李白收割全场，YTG.安然双第一傲然夺冠" }, { "title": "王者模拟战邀请赛快讯：吴法武则天在线秒人，七蜀国吕布蔡文姬显神威" }, { "title": "峡谷棋王，该我上场！王者模拟战首届邀请赛总决赛11月9日11：00热血开战" }] }]
    const list = cateName.map((el, i) => {
      return allRace[i].recesList.map(v => {
        return {
          cate: el,
          title: v.title,
          body: ''
        }
      })
    })
    await Race.insertMany(list[0])
    await Race.insertMany(list[1])
    await Race.insertMany(list[2])
    await Race.insertMany(list[3])
    await Race.insertMany(list[4])
    await Race.insertMany(list[5])
    await Race.insertMany(list[6])
    await Race.insertMany(list[7])

    const data = await Race.find()
    res.send(data)

  })

  router.get('/races/list', async (req, res) => {
    const data = await Race.find().populate('cate')
    res.send(data)
  })
  app.use('/web/api', router)
}

// {
//   cate: '',
//   title: '',
//   desc: '',
//   cover:'',
//   body:''
// }

// $$('.strategy-slide-wrapper .current li').map(v => {
//   return {
//     title: $$('.strategy_title', v)[0].innerHTML,
//     cate: '5eaa8f4f598d8c08a48967d9',
//     desc: $$('.strategy_desc', v)[0].innerHTML,
//     cover: $$('img', v)[0].src,
//     body: ''
//   }
// })
// // ($$('.strategy-slide-wrapper .current li .strategy_cont .strategy_title').map(v => {
// //   v.title:v.innertText,
// //   v.cover:$$('.strategy-slide-wrapper .current li .cover').map()
// // })
// $$('.strategy-slide-wrapper .current li').map(v => {
//   return {
//     cover:$$('img',v),
//   }
// // })
// {
//   cate: '',
//   title: '',
//   body: ''
// }

// $$('.match-slide-item').map((el, i) => {
//   return {
//     recesList:$$('.mc_gamemsg li a', el).map(v=>{return {title:v.innerHTML}})
//   }
// })