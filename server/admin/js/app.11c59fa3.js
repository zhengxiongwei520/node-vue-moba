(function(e){function t(t){for(var r,i,o=t[0],l=t[1],c=t[2],m=0,p=[];m<o.length;m++)i=o[m],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&p.push(a[i][0]),a[i]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);u&&u(t);while(p.length)p.shift()();return s.push.apply(s,c||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],r=!0,o=1;o<n.length;o++){var l=n[o];0!==a[l]&&(r=!1)}r&&(s.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={app:0},s=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/admin/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var u=l;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var r=n("85ec"),a=n.n(r);a.a},"149f":function(e,t,n){"use strict";var r=n("fc00"),a=n.n(r);a.a},"199c":function(e,t){},"22de":function(e,t,n){"use strict";var r=n("8319"),a=n.n(r);a.a},"23be":function(e,t,n){"use strict";var r=n("199c"),a=n.n(r);t["default"]=a.a},"34ef":function(e,t,n){"use strict";var r=n("9389"),a=n.n(r);a.a},"3dfd":function(e,t,n){"use strict";var r=n("74c9"),a=n("23be"),s=(n("034f"),n("2877")),i=Object(s["a"])(a["default"],r["a"],r["b"],!1,null,null,null);t["default"]=i.exports},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=n("3dfd"),s=n("8c4f"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-container",{staticStyle:{height:"100vh"}},[n("el-aside",{staticStyle:{"background-color":"rgb(238, 241, 246)"},attrs:{width:"200px"}},[n("el-menu",{attrs:{router:"","default-active":e.$route.path}},[n("el-submenu",{attrs:{index:"1"}},[n("template",{slot:"title"},[n("i",{staticClass:"el-icon-message"}),e._v("内容管理 ")]),n("el-menu-item-group",[n("template",{slot:"title"},[e._v("分类")]),n("el-menu-item",{attrs:{index:"/cates/create"}},[e._v("新建分类")]),n("el-menu-item",{attrs:{index:"/cates/list"}},[e._v("分类列表")])],2),n("el-menu-item-group",[n("template",{slot:"title"},[e._v("物品")]),n("el-menu-item",{attrs:{index:"/items/create"}},[e._v("新建物品")]),n("el-menu-item",{attrs:{index:"/items/list"}},[e._v("物品列表")])],2),n("el-menu-item-group",[n("template",{slot:"title"},[e._v("英雄")]),n("el-menu-item",{attrs:{index:"/heros/create"}},[e._v("新建英雄")]),n("el-menu-item",{attrs:{index:"/heros/list"}},[e._v("英雄列表")])],2),n("el-menu-item-group",[n("template",{slot:"title"},[e._v("文章")]),n("el-menu-item",{attrs:{index:"/articles/create"}},[e._v("新建文章")]),n("el-menu-item",{attrs:{index:"/articles/list"}},[e._v("文章列表")])],2),n("el-menu-item-group",[n("template",{slot:"title"},[e._v("攻略")]),n("el-menu-item",{attrs:{index:"/strategies/create"}},[e._v("新建攻略")]),n("el-menu-item",{attrs:{index:"/strategies/list"}},[e._v("攻略列表")])],2),n("el-menu-item-group",[n("template",{slot:"title"},[e._v("赛事")]),n("el-menu-item",{attrs:{index:"/races/create"}},[e._v("新建赛事")]),n("el-menu-item",{attrs:{index:"/races/list"}},[e._v("赛事列表")])],2)],2),n("el-submenu",{attrs:{index:"2"}},[n("template",{slot:"title"},[n("i",{staticClass:"el-icon-message"}),e._v("运营管理 ")]),n("el-menu-item-group",[n("template",{slot:"title"},[e._v("广告")]),n("el-menu-item",{attrs:{index:"/ads/create"}},[e._v("新建广告")]),n("el-menu-item",{attrs:{index:"/ads/list"}},[e._v("广告列表")])],2)],2),n("el-submenu",{attrs:{index:"3"}},[n("template",{slot:"title"},[n("i",{staticClass:"el-icon-message"}),e._v("系统管理 ")]),n("el-menu-item-group",[n("template",{slot:"title"},[e._v("用户")]),n("el-menu-item",{attrs:{index:"/admin_users/create"}},[e._v("新建用户")]),n("el-menu-item",{attrs:{index:"/admin_users/list"}},[e._v("用户列表")])],2)],2)],1)],1),n("el-container",[n("el-header",{staticStyle:{"text-align":"right","font-size":"12px"}}),n("router-view",{key:e.$route.path,staticClass:"routerView"})],1)],1)},o=[],l={data:function(){return{}}},c=l,u=(n("22de"),n("2877")),m=Object(u["a"])(c,i,o,!1,null,null,null),p=m.exports,d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login-contaier"},[n("el-card",{staticClass:"card",attrs:{header:"请先登录"}},[n("el-form",{nativeOn:{submit:function(t){return t.preventDefault(),e.login(t)}}},[n("el-form-item",{attrs:{label:"用户名"}},[n("el-input",{model:{value:e.model.username,callback:function(t){e.$set(e.model,"username",t)},expression:"model.username"}})],1),n("el-form-item",{attrs:{label:"密码"}},[n("el-input",{attrs:{type:"password"},model:{value:e.model.password,callback:function(t){e.$set(e.model,"password",t)},expression:"model.password"}})],1),n("el-form-item",[n("el-button",{attrs:{type:"primary","native-type":"submit"}},[e._v("登录")])],1)],1)],1)],1)},h=[],f=(n("96cf"),n("1da1")),v={data:function(){return{model:{username:"",password:""}}},methods:{login:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.post("/admin/api/login",this.model);case 2:t=e.sent,localStorage.token=t.data.token,this.$router.push("/"),this.$message({type:"success",message:"登录成功"});case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},b=v,g=(n("d6db"),Object(u["a"])(b,d,h,!1,null,null,null)),w=g.exports,x=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"cateEdit"},[n("h1",[e._v(e._s(e.id?"编辑":"新建")+"分类")]),n("el-form",{attrs:{"label-width":"120px"},nativeOn:{submit:function(t){return t.preventDefault(),e.save(t)}}},[n("el-form-item",{attrs:{label:"上级分类"}},[n("el-select",{model:{value:e.model.parent,callback:function(t){e.$set(e.model,"parent",t)},expression:"model.parent"}},e._l(e.parents,(function(e){return n("el-option",{key:e._id,attrs:{label:e.name,value:e._id}})})),1)],1),n("el-form-item",{attrs:{label:"名称"}},[n("el-input",{attrs:{maxlength:"10"},model:{value:e.model.name,callback:function(t){e.$set(e.model,"name",t)},expression:"model.name"}})],1),n("el-form-item",[n("el-button",{attrs:{type:"primary","native-type":"submit"}},[e._v("保存")])],1)],1)],1)},y=[],_={props:{id:{}},data:function(){return{model:{},parents:[]}},methods:{save:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.id){e.next=5;break}return e.next=3,this.$http.put("/admin/api/rest/cates/".concat(this.id),this.model);case 3:e.next=7;break;case 5:return e.next=7,this.$http.post("/admin/api/rest/cates",this.model);case 7:this.$router.push("/cates/list"),this.$message({type:"success",message:"保存分类名称成功"});case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),fetch:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.get("/admin/api/rest/cates/".concat(this.id));case 2:t=e.sent,this.model=t.data;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),fetchParents:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.get("/admin/api/cates/''");case 2:t=e.sent,this.parents=t.data;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},created:function(){this.id&&this.fetch(),this.fetchParents()}},$=_,k=Object(u["a"])($,x,y,!1,null,null,null),R=k.exports,O=function(){var e=this,t=this,n=t.$createElement,r=t._self._c||n;return r("div",[r("h1",[t._v("分类列表")]),t.list?r("el-select",{attrs:{placeholder:"选择上级分类"},model:{value:t.parent,callback:function(e){t.parent=e},expression:"parent"}},t._l(t.cates,(function(e){return r("el-option",{key:e.value,attrs:{label:e.name,value:e._id}})})),1):t._e(),t.list?r("el-table",{attrs:{data:this.parent?this.list.filter((function(t){return void 0!=t.parent&&t.parent._id==e.parent})):this.list}},[r("el-table-column",{attrs:{prop:"_id",label:"ID",width:"250"}}),r("el-table-column",{attrs:{prop:"parent.name",label:"上级分类",width:"250"}}),r("el-table-column",{attrs:{prop:"name",label:"名称",width:"250"}}),r("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return t.$router.push("/cates/edit/"+e.row._id)}}},[t._v("编辑")]),r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return t.remove(e.row)}}},[t._v("删除")])]}}],null,!1,1654427235)})],1):t._e()],1)},j=[],C=(n("4de4"),n("b0c0"),{data:function(){return{list:null,cates:null,parent:""}},methods:{fetch:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.get("/admin/api/rest/cates");case 2:t=e.sent,this.list=t.data;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),remove:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t){var n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$confirm("此操作将永久删除分类  ".concat(t.name,"?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n.$http.delete("/admin/api/rest/cates/".concat(t._id));case 2:n.$message({type:"success",message:"删除成功!"}),n.fetch();case 4:case"end":return e.stop()}}),e)})))).catch((function(){n.$message({type:"info",message:"已取消删除"})}));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},created:function(){this.fetch()},watch:{list:function(){this.cates=this.list.filter((function(e){return void 0==e.parent})),this.cates.unshift({name:"全部"})}}}),S=C,E=Object(u["a"])(S,O,j,!1,null,null,null),T=E.exports,B=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"edit"},[n("h1",[e._v(e._s(e.id?"编辑":"新建")+"物品")]),n("el-form",{attrs:{"label-width":"120px"},nativeOn:{submit:function(t){return t.preventDefault(),e.save(t)}}},[n("el-form-item",{attrs:{label:"名称"}},[n("el-input",{attrs:{maxlength:"10"},model:{value:e.model.name,callback:function(t){e.$set(e.model,"name",t)},expression:"model.name"}})],1),n("el-form-item",{staticClass:"icon1",attrs:{label:"图标"}},[n("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.$http.defaults.baseURL+"/admin/api/upload/items",headers:e.getAuthHeader(),"show-file-list":!1,"on-success":e.handleIconSuccess,"before-upload":e.beforeIconUpload}},[e.model.icon?n("img",{staticClass:"avatar",attrs:{src:e.model.icon}}):n("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),n("el-form-item",[n("el-button",{attrs:{type:"primary","native-type":"submit"}},[e._v("保存")])],1)],1)],1)},I=[],A={props:{id:{}},data:function(){return{model:{},parents:[]}},methods:{save:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.id){e.next=5;break}return e.next=3,this.$http.put("/admin/api/rest/items/".concat(this.id),this.model);case 3:e.next=7;break;case 5:return e.next=7,this.$http.post("/admin/api/rest/items",this.model);case 7:this.$router.push("/items/list"),this.$message({type:"success",message:"保存物品名称成功"});case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),fetch:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.get("/admin/api/rest/items/".concat(this.id));case 2:t=e.sent,this.model=t.data;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),fetchParents:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.get("/admin/api/rest/items");case 2:t=e.sent,this.parents=t.data;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),handleIconSuccess:function(e){this.$set(this.model,"icon",e.url)},beforeIconUpload:function(e){var t="image/jpeg"===e.type,n=e.size/1024/1024<2;return t||this.$message.error("上传头像图片只能是 JPG 格式!"),n||this.$message.error("上传头像图片大小不能超过 2MB!"),t&&n}},created:function(){this.id&&this.fetch(),this.fetchParents()}},z=A,P=(n("cf6a"),Object(u["a"])(z,B,I,!1,null,"2c3d20d2",null)),D=P.exports,U=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",[e._v("分类列表")]),n("el-table",{attrs:{data:e.list}},[n("el-table-column",{attrs:{prop:"_id",label:"ID",width:"250"}}),n("el-table-column",{attrs:{prop:"name",label:"名称",width:"250"}}),n("el-table-column",{attrs:{label:"图片",width:"250"},scopedSlots:e._u([{key:"default",fn:function(e){return[n("img",{staticStyle:{width:"3rem"},attrs:{src:e.row.icon}})]}}])}),n("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return e.$router.push("/items/edit/"+t.row._id)}}},[e._v("编辑")]),n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return e.remove(t.row)}}},[e._v("删除")])]}}])})],1)],1)},L=[],H={data:function(){return{list:[]}},methods:{fetch:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.get("/admin/api/rest/items");case 2:t=e.sent,this.list=t.data;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),remove:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t){var n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$confirm("此操作将永久删除分类  ".concat(t.name,"?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n.$http.delete("/admin/api/rest/items/".concat(t._id));case 2:n.$message({type:"success",message:"删除成功!"}),n.fetch();case 4:case"end":return e.stop()}}),e)})))).catch((function(){n.$message({type:"info",message:"已取消删除"})}));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},created:function(){this.fetch()}},V=H,F=Object(u["a"])(V,U,L,!1,null,null,null),M=F.exports,q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"edit"},[n("h1",[e._v(e._s(e.id?"编辑":"新建")+"英雄")]),n("el-form",{staticClass:"elForm",attrs:{"label-width":"120px"},nativeOn:{submit:function(t){return t.preventDefault(),e.save(t)}}},[n("el-tabs",{attrs:{value:"relationships",type:"border-card"}},[n("el-tab-pane",{attrs:{label:"基本信息",name:"basic"}},[n("el-form-item",{attrs:{label:"名称"}},[n("el-input",{model:{value:e.model.name,callback:function(t){e.$set(e.model,"name",t)},expression:"model.name"}})],1),n("el-form-item",{attrs:{label:"称号"}},[n("el-input",{model:{value:e.model.title,callback:function(t){e.$set(e.model,"title",t)},expression:"model.title"}})],1),n("el-form-item",{attrs:{label:"分类"}},[n("el-select",{attrs:{multiple:""},model:{value:e.model.cate,callback:function(t){e.$set(e.model,"cate",t)},expression:"model.cate"}},e._l(e.cates,(function(e){return n("el-option",{key:e._id,attrs:{label:e.name,value:e._id}})})),1)],1),n("el-form-item",{attrs:{label:"顺风出装"}},[n("el-select",{attrs:{multiple:""},model:{value:e.model.items1,callback:function(t){e.$set(e.model,"items1",t)},expression:"model.items1"}},e._l(e.items,(function(e){return n("el-option",{key:e._id,attrs:{label:e.name,value:e._id}})})),1)],1),n("el-form-item",{attrs:{label:"逆风出装"}},[n("el-select",{attrs:{multiple:""},model:{value:e.model.items2,callback:function(t){e.$set(e.model,"items2",t)},expression:"model.items2"}},e._l(e.items,(function(e){return n("el-option",{key:e._id,attrs:{label:e.name,value:e._id}})})),1)],1),n("el-form-item",{attrs:{label:"难度"}},[n("el-rate",{staticStyle:{marginTop:"0.6rem"},attrs:{max:10,colors:e.colors,"show-score":""},model:{value:e.model.scores.difficult,callback:function(t){e.$set(e.model.scores,"difficult",t)},expression:"model.scores.difficult"}})],1),n("el-form-item",{attrs:{label:"技能"}},[n("el-rate",{staticStyle:{marginTop:"0.6rem"},attrs:{max:10,colors:e.colors,"show-score":""},model:{value:e.model.scores.ability,callback:function(t){e.$set(e.model.scores,"ability",t)},expression:"model.scores.ability"}})],1),n("el-form-item",{attrs:{label:"攻击"}},[n("el-rate",{staticStyle:{marginTop:"0.6rem"},attrs:{max:10,colors:e.colors,"show-score":""},model:{value:e.model.scores.attack,callback:function(t){e.$set(e.model.scores,"attack",t)},expression:"model.scores.attack"}})],1),n("el-form-item",{attrs:{label:"生存"}},[n("el-rate",{staticStyle:{marginTop:"0.6rem"},attrs:{max:10,colors:e.colors,"show-score":""},model:{value:e.model.scores.tank,callback:function(t){e.$set(e.model.scores,"tank",t)},expression:"model.scores.tank"}})],1),n("el-form-item",{staticClass:"avatar1",attrs:{label:"头像"}},[n("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.$http.defaults.baseURL+"/admin/api/upload/heros",headers:e.getAuthHeader(),"show-file-list":!1,"on-success":function(t){return e.$set(e.model,"avatar",t.url)},"before-upload":e.beforeIconUpload}},[e.model.avatar?n("img",{staticClass:"avatar",attrs:{src:e.model.avatar}}):n("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),n("el-form-item",{staticClass:"avatar1",attrs:{label:"原画"}},[n("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.$http.defaults.baseURL+"/admin/api/upload/banners",headers:e.getAuthHeader(),"show-file-list":!1,"on-success":function(t){return e.$set(e.model,"banner",t.url)},"before-upload":e.beforeIconUpload}},[e.model.banner?n("img",{attrs:{src:e.model.banner}}):n("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),n("el-form-item",{attrs:{label:"最佳搭档"}}),n("el-form-item",{attrs:{label:"使用技巧"}},[n("el-input",{attrs:{type:"textarea"},model:{value:e.model.usageTips,callback:function(t){e.$set(e.model,"usageTips",t)},expression:"model.usageTips"}})],1),n("el-form-item",{attrs:{label:"对抗技巧"}},[n("el-input",{attrs:{type:"textarea"},model:{value:e.model.battleTips,callback:function(t){e.$set(e.model,"battleTips",t)},expression:"model.battleTips"}})],1),n("el-form-item",{attrs:{label:"团战技巧"}},[n("el-input",{attrs:{type:"textarea"},model:{value:e.model.teamfightTips,callback:function(t){e.$set(e.model,"teamfightTips",t)},expression:"model.teamfightTips"}})],1)],1),n("el-tab-pane",{staticClass:"skills",attrs:{label:"技能信息",name:"skills"}},[n("el-button",{staticStyle:{marginBottom:"2rem"},on:{click:function(t){return e.model.skills.push({})}}},[n("i",{staticClass:"el-icon-plus"}),e._v(" 添加技能 ")]),n("el-row",{staticStyle:{"flex-wrap":"wrap"},attrs:{type:"flex"}},e._l(e.model.skills,(function(t,r){return n("el-col",{key:r,attrs:{md:12}},[n("el-form-item",{attrs:{label:"名称"}},[n("el-input",{model:{value:t.name,callback:function(n){e.$set(t,"name",n)},expression:"item.name"}})],1),n("el-form-item",{staticClass:"icon1",attrs:{label:"图标"}},[n("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.$http.defaults.baseURL+"/admin/api/upload/skills",headers:e.getAuthHeader(),"show-file-list":!1,"on-success":function(n){return e.$set(t,"icon",n.url)},"before-upload":e.beforeIconUpload}},[t.icon?n("img",{staticClass:"avatar",attrs:{src:t.icon}}):n("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),n("el-form-item",{attrs:{label:"描述"}},[n("el-input",{attrs:{type:"textarea",autosize:""},model:{value:t.description,callback:function(n){e.$set(t,"description",n)},expression:"item.description"}})],1),n("el-form-item",{attrs:{label:"小技巧",type:"textarea",autosize:""}},[n("el-input",{model:{value:t.tips,callback:function(n){e.$set(t,"tips",n)},expression:"item.tips"}})],1),n("el-form-item",{attrs:{label:"消耗"}},[n("el-input",{model:{value:t.cost,callback:function(n){e.$set(t,"cost",n)},expression:"item.cost"}})],1),n("el-form-item",{attrs:{label:"冷却"}},[n("el-input",{model:{value:t.cooldown,callback:function(n){e.$set(t,"cooldown",n)},expression:"item.cooldown"}})],1),n("el-form-item",[n("el-button",{attrs:{type:"danger"},on:{click:function(t){return e.model.skills.splice(r,1)}}},[e._v("删除")])],1)],1)})),1)],1),n("el-tab-pane",{attrs:{label:"英雄关系",name:"relationships"}},[n("el-button",{staticStyle:{marginBottom:"2rem"},on:{click:function(t){return e.model.relationships.push({name:"",heroes:[]})}}},[n("i",{staticClass:"el-icon-plus"}),e._v(" 添加关系 ")]),n("el-row",e._l(e.model.relationships,(function(t,r){return n("el-card",{key:r,staticClass:"box-card",attrs:{md:6}},[n("el-form-item",{attrs:{label:"关系名称"}},[n("el-input",{model:{value:t.name,callback:function(n){e.$set(t,"name",n)},expression:"item.name"}})],1),n("el-form-item",[n("el-button",{on:{click:function(e){return t.heroes.push({_id:"",desc:""})}}},[n("i",{staticClass:"el-icon-plus"}),e._v(" 添加英雄 ")])],1),e._l(t.heroes,(function(r,a){return n("div",{key:a,staticClass:"box-card eroes-list"},[n("el-form-item",{attrs:{label:"英雄"}},[n("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:r._id,callback:function(t){e.$set(r,"_id",t)},expression:"item2._id"}},e._l(e.heroes,(function(e){return n("el-option",{key:e._id,attrs:{label:e.name,value:e._id}})})),1)],1),n("el-form-item",{attrs:{label:"描述"}},[n("el-input",{model:{value:r.desc,callback:function(t){e.$set(r,"desc",t)},expression:"item2.desc"}})],1),n("el-form-item",[n("el-button",{attrs:{type:"danger"},on:{click:function(e){return t.heroes.splice(a,1)}}},[e._v("删除英雄")])],1)],1)})),n("el-button",{attrs:{type:"warning"},on:{click:function(t){return e.model.relationships.splice(r,1)}}},[e._v("删除关系")])],2)})),1)],1)],1),n("el-form-item",[n("el-button",{staticStyle:{marginTop:"1rem"},attrs:{type:"primary","native-type":"submit"}},[e._v("保存")])],1)],1)],1)},J=[],G={props:{id:{}},data:function(){return{model:{name:"",avatar:"",banner:"",scores:{difficult:0,ability:0,attack:0,tank:0},items1:[],items2:[],usageTips:"",battleTips:"",teamfightTips:"",skills:[],relationships:[]},cates:[],colors:["#99A9BF","#F7BA2A","#FF9900"],items:[],heroes:[]}},methods:{save:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.id){e.next=5;break}return e.next=3,this.$http.put("/admin/api/rest/heros/".concat(this.id),this.model);case 3:e.next=7;break;case 5:return e.next=7,this.$http.post("/admin/api/rest/heros",this.model);case 7:this.$router.push("/heros/list"),this.$message({type:"success",message:"保存物品名称成功"});case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),fetch:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.get("/admin/api/rest/heros/".concat(this.id));case 2:t=e.sent,this.model=Object.assign({},this.model,t.data);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),fetchParents:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.get("/admin/api/rest/heros");case 2:t=e.sent,this.parents=t.data;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),handleAvatarSuccess:function(e){this.$set(this.model,"avatar",e.url)},beforeIconUpload:function(e){var t="image/jpeg"===e.type,n=e.size/1024/1024<2;return t||this.$message.error("上传头像图片只能是 JPG 格式!"),n||this.$message.error("上传头像图片大小不能超过 2MB!"),t&&n},fetchCate:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.get("/admin/api/cates/heroes");case 2:t=e.sent,this.cates=t.data;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),fetchItem:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.get("/admin/api/rest/items");case 2:t=e.sent,this.items=t.data;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),fetchHero:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.get("/admin/api/rest/heroes");case 2:t=e.sent,this.heroes=t.data;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},created:function(){this.id&&this.fetch(),this.fetchParents(),this.fetchCate(),this.fetchItem(),this.fetchHero()}},N=G,K=(n("149f"),Object(u["a"])(N,q,J,!1,null,"3d394e36",null)),Q=K.exports,W=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",[e._v("英雄列表")]),n("el-select",{model:{value:e.selectCate,callback:function(t){e.selectCate=t},expression:"selectCate"}},e._l(e.cates,(function(e){return n("el-option",{key:e._id,attrs:{label:e.name,value:e._id}})})),1),n("el-table",{attrs:{data:e.newList}},[n("el-table-column",{attrs:{prop:"_id",label:"ID",width:"250"}}),n("el-table-column",{attrs:{prop:"name",label:"名称",width:"250"}}),n("el-table-column",{attrs:{prop:"title",label:"称号",width:"250"}}),n("el-table-column",{attrs:{label:"头像",width:"250"},scopedSlots:e._u([{key:"default",fn:function(e){return[n("img",{staticStyle:{width:"3rem"},attrs:{src:e.row.avatar}})]}}])}),n("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return e.$router.push("/heros/edit/"+t.row._id)}}},[e._v("编辑")]),n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return e.remove(t.row)}}},[e._v("删除")])]}}])})],1)],1)},X=[],Y={data:function(){return{list:[],newList:[],cates:[],selectCate:"全部"}},methods:{fetch:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.get("/admin/api/rest/heros");case 2:t=e.sent,this.list=t.data,this.newList=t.data;case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),fetchCate:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.get("/admin/api/cates/heroes");case 2:t=e.sent,this.cates=t.data;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),remove:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t){var n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$confirm("此操作将永久删除分类  ".concat(t.name,"?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n.$http.delete("/admin/api/rest/heros/".concat(t._id));case 2:n.$message({type:"success",message:"删除成功!"}),n.fetch();case 4:case"end":return e.stop()}}),e)})))).catch((function(){n.$message({type:"info",message:"已取消删除"})}));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},created:function(){this.fetch(),this.fetchCate()},watch:{selectCate:function(e){this.newList=this.list.filter((function(t){for(var n=0;n<t.cate.length;n++)return t.cate[n]==e}))}}},Z=Y,ee=Object(u["a"])(Z,W,X,!1,null,null,null),te=ee.exports,ne=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"cateEdit"},[n("h1",[e._v(e._s(e.id?"编辑":"新建")+"文章")]),n("el-form",{attrs:{"label-width":"120px"},nativeOn:{submit:function(t){return t.preventDefault(),e.save(t)}}},[n("el-form-item",{attrs:{label:"所属分类"}},[n("el-select",{attrs:{multiple:""},model:{value:e.model.cates,callback:function(t){e.$set(e.model,"cates",t)},expression:"model.cates"}},e._l(e.cates,(function(e){return n("el-option",{key:e._id,attrs:{label:e.name,value:e._id}})})),1)],1),n("el-form-item",{attrs:{label:"标题"}},[n("el-input",{model:{value:e.model.title,callback:function(t){e.$set(e.model,"title",t)},expression:"model.title"}})],1),n("el-form-item",{attrs:{label:"文章内容"}},[n("VueEditor",{attrs:{useCustomImageHandler:""},on:{"image-added":e.handleImageAdded},model:{value:e.model.body,callback:function(t){e.$set(e.model,"body",t)},expression:"model.body"}})],1),n("el-form-item",[n("el-button",{attrs:{type:"primary","native-type":"submit"}},[e._v("保存")])],1)],1)],1)},re=[],ae=n("5873"),se={props:{id:{}},components:{VueEditor:ae["a"]},data:function(){return{model:{title:"",cates:[],body:""},cates:[]}},methods:{save:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.id){e.next=5;break}return e.next=3,this.$http.put("/admin/api/rest/articles/".concat(this.id),this.model);case 3:e.next=7;break;case 5:return e.next=7,this.$http.post("/admin/api/rest/articles",this.model);case 7:this.$router.push("/articles/list"),this.$message({type:"success",message:"保存分类名称成功"});case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),fetch:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.get("/admin/api/rest/articles/".concat(this.id));case 2:t=e.sent,this.model=t.data;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),fetchCates:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.get("/admin/api/cates/articles");case 2:t=e.sent,this.cates=t.data;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),handleImageAdded:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t,n,r,a){var s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=new FormData,s.append("file",t),e.next=4,this.$http.post("/admin/api/upload/articles",s);case 4:i=e.sent,n.insertEmbed(r,"image",i.data.url),a();case 7:case"end":return e.stop()}}),e,this)})));function t(t,n,r,a){return e.apply(this,arguments)}return t}()},created:function(){this.id&&this.fetch(),this.fetchCates()}},ie=se,oe=Object(u["a"])(ie,ne,re,!1,null,null,null),le=oe.exports,ce=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",[e._v("分类列表")]),n("el-table",{attrs:{data:e.list}},[n("el-table-column",{attrs:{prop:"_id",label:"ID",width:"250"}}),n("el-table-column",{attrs:{prop:"title",label:"标题",width:"250"}}),n("el-table-column",{attrs:{label:"所属分类",width:"250"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.cates,(function(t){return n("span",{key:t.i},[e._v(e._s(t.name)+" ")])}))}}])}),n("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return e.$router.push("/articles/edit/"+t.row._id)}}},[e._v("编辑")]),n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return e.remove(t.row)}}},[e._v("删除")])]}}])})],1)],1)},ue=[],me={data:function(){return{list:[]}},methods:{fetch:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.get("/admin/api/rest/articles");case 2:t=e.sent,this.list=t.data;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),remove:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t){var n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$confirm("此操作将永久删除分类  ".concat(t.title,"?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n.$http.delete("/admin/api/rest/articles/".concat(t._id));case 2:n.$message({type:"success",message:"删除成功!"}),n.fetch();case 4:case"end":return e.stop()}}),e)})))).catch((function(){n.$message({type:"info",message:"已取消删除"})}));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},created:function(){this.fetch()}},pe=me,de=Object(u["a"])(pe,ce,ue,!1,null,null,null),he=de.exports,fe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"cateEdit"},[n("h1",[e._v(e._s(e.id?"编辑":"新建")+"广告位")]),n("el-form",{attrs:{"label-width":"120px"},nativeOn:{submit:function(t){return t.preventDefault(),e.save(t)}}},[n("el-form-item",{attrs:{label:"广告位名称"}},[n("el-input",{model:{value:e.model.name,callback:function(t){e.$set(e.model,"name",t)},expression:"model.name"}})],1),n("el-form-item",{attrs:{label:"广告位信息"}},[n("el-button",{attrs:{type:"info"},on:{click:function(t){return e.model.items.push({})}}},[e._v("添加广告信息")]),n("el-card",{staticStyle:{marginTop:"1rem"},attrs:{type:"flex"}},e._l(e.model.items,(function(t,r){return n("el-col",{key:r,staticStyle:{margin:"1rem 0"},attrs:{md:24}},[n("el-form-item",{attrs:{label:"图片"}},[n("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.$http.defaults.baseURL+"/admin/api/upload/ads","show-file-list":!1,"on-success":function(n){return e.$set(t,"image",n.url)},"before-upload":e.beforeAvatarUpload}},[t.image?n("img",{staticClass:"avatar",attrs:{src:t.image}}):n("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),n("el-form-item",{attrs:{label:"跳转链接(URL)","label-width":""}},[n("el-input",{model:{value:t.url,callback:function(n){e.$set(t,"url",n)},expression:"item.url"}})],1),n("el-form-item",{staticStyle:{marginTop:"1rem"},attrs:{"label-width":"8rem"}},[n("el-button",{attrs:{type:"danger"},on:{click:function(t){return e.model.items.splice(r,1)}}},[e._v("删除")])],1)],1)})),1)],1),n("el-form-item",{staticStyle:{marginTop:"3rem"}},[n("el-button",{attrs:{type:"primary","native-type":"submit"}},[e._v("保存")])],1)],1)],1)},ve=[],be={props:{id:{}},data:function(){return{model:{name:"",items:[]}}},methods:{save:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.id){e.next=5;break}return e.next=3,this.$http.put("/admin/api/rest/ads/".concat(this.id),this.model);case 3:e.next=7;break;case 5:return e.next=7,this.$http.post("/admin/api/rest/ads",this.model);case 7:this.$router.push("/ads/list"),this.$message({type:"success",message:"保存广告成功"});case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),fetch:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.get("/admin/api/rest/ads/".concat(this.id));case 2:t=e.sent,this.model=Object.assign({},this.model,t.data);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),beforeAvatarUpload:function(e){var t="image/jpeg"===e.type,n=e.size/1024/1024<2;return t||this.$message.error("上传头像图片只能是 JPG 格式!"),n||this.$message.error("上传头像图片大小不能超过 2MB!"),t&&n}},created:function(){this.id&&this.fetch()}},ge=be,we=(n("34ef"),Object(u["a"])(ge,fe,ve,!1,null,null,null)),xe=we.exports,ye=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",[e._v("分类列表")]),n("el-table",{attrs:{data:e.list}},[n("el-table-column",{attrs:{prop:"_id",label:"ID",width:"250"}}),n("el-table-column",{attrs:{prop:"name",label:"标题",width:"250"}}),n("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return e.$router.push("/ads/edit/"+t.row._id)}}},[e._v("编辑")]),n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return e.remove(t.row)}}},[e._v("删除")])]}}])})],1)],1)},_e=[],$e={data:function(){return{list:[]}},methods:{fetch:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.get("/admin/api/rest/ads");case 2:t=e.sent,this.list=t.data;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),remove:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t){var n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$confirm("此操作将永久删除  ".concat(t.name,"，是否确定"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n.$http.delete("/admin/api/rest/ads/".concat(t._id));case 2:n.$message({type:"success",message:"删除成功!"}),n.fetch();case 4:case"end":return e.stop()}}),e)})))).catch((function(){n.$message({type:"info",message:"已取消删除"})}));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},created:function(){this.fetch()}},ke=$e,Re=Object(u["a"])(ke,ye,_e,!1,null,null,null),Oe=Re.exports,je=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",[e._v(e._s(e.id?"编辑":"新建")+"用户")]),n("el-form",{attrs:{"label-width":"5rem"},nativeOn:{submit:function(t){return t.preventDefault(),e.save(t)}}},[n("el-form-item",{attrs:{label:"账号"}},[n("el-input",{model:{value:e.model.username,callback:function(t){e.$set(e.model,"username",t)},expression:"model.username"}})],1),n("el-form-item",{attrs:{label:"密码"}},[n("el-input",{model:{value:e.model.password,callback:function(t){e.$set(e.model,"password",t)},expression:"model.password"}})],1),n("el-form-item",[n("el-button",{attrs:{type:"primary","native-type":"submit"}},[e._v("保存")])],1)],1)],1)},Ce=[],Se={props:{id:{}},data:function(){return{model:{username:"",password:""}}},methods:{save:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.id){e.next=5;break}return e.next=3,this.$http.post("/admin/api/rest/admin_users",this.model);case 3:e.next=7;break;case 5:return e.next=7,this.$http.put("/admin/api/rest/admin_users/".concat(this.id),this.model);case 7:this.$router.push("/admin_users/list"),this.$message({type:"success",message:"保存成功"});case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),fetch:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.get("/admin/api/rest/admin_users/".concat(this.id));case 2:t=e.sent,this.model=t.data;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},created:function(){this.id&&this.fetch()}},Ee=Se,Te=Object(u["a"])(Ee,je,Ce,!1,null,null,null),Be=Te.exports,Ie=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-table",{attrs:{data:e.list}},[n("el-table-column",{attrs:{prop:"_id",label:"ID",width:"180"}}),n("el-table-column",{attrs:{prop:"username",label:"账号",width:"180"}}),n("el-table-column",{attrs:{fixed:"right",label:"操作",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return e.$router.push("/admin_users/edit/"+t.row._id)}}},[e._v("编辑")]),n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return e.remove(t.row)}}},[e._v("删除")])]}}])})],1)],1)},Ae=[],ze={data:function(){return{list:[]}},methods:{fetch:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.get("/admin/api/rest/admin_users");case 2:t=e.sent,this.list=t.data;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),remove:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t){var n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$confirm("此操作将永久删除  ".concat(t.title,"?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n.$http.delete("/admin/api/rest/admin_users/".concat(t._id));case 2:n.$message({type:"success",message:"删除成功!"}),n.fetch();case 4:case"end":return e.stop()}}),e)})))).catch((function(){n.$message({type:"info",message:"已取消删除"})}));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},created:function(){this.fetch()}},Pe=ze,De=Object(u["a"])(Pe,Ie,Ae,!1,null,null,null),Ue=De.exports,Le=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",[e._v(e._s(e.id?"编辑攻略":"新建攻略"))]),n("el-form",{ref:"model",attrs:{"label-width":"120px",rules:e.rules,model:e.model},nativeOn:{submit:function(t){return t.preventDefault(),e.save("model")}}},[n("el-form-item",{attrs:{label:"所属分类",prop:"cate"}},[n("el-select",{model:{value:e.model.cate,callback:function(t){e.$set(e.model,"cate",t)},expression:"model.cate"}},e._l(e.cates,(function(e){return n("el-option",{key:e._id,attrs:{label:e.name,value:e._id}})})),1)],1),n("el-form-item",{attrs:{label:"攻略标题",prop:"title"}},[n("el-input",{model:{value:e.model.title,callback:function(t){e.$set(e.model,"title",t)},expression:"model.title"}})],1),n("el-form-item",{attrs:{label:"攻略描述",prop:"desc"}},[n("el-input",{attrs:{maxlength:"40"},model:{value:e.model.desc,callback:function(t){e.$set(e.model,"desc",t)},expression:"model.desc"}})],1),n("el-form-item",{attrs:{label:"攻略封面",prop:"cover"}},[n("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.$http.defaults.baseURL+"/admin/api/upload/covers",headers:e.getAuthHeader(),"show-file-list":!1,"on-success":function(t){return e.$set(e.model,"cover",t.url)},"before-upload":e.beforeAvatarUpload}},[e.model.cover?n("img",{staticClass:"avatar",attrs:{src:e.model.cover}}):n("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),n("el-form-item",{attrs:{label:"攻略内容",prop:"body"}},[n("VueEditor",{attrs:{useCustomImageHandler:""},on:{"image-added":e.handleImageAdded},model:{value:e.model.body,callback:function(t){e.$set(e.model,"body",t)},expression:"model.body"}})],1),n("el-form-item",[n("el-button",{attrs:{type:"primary","native-type":"submit"}},[e._v("保存")])],1)],1)],1)},He=[],Ve={props:{id:{}},data:function(){return{model:{cate:null,title:"",body:"",desc:"",cover:""},cates:[],rules:{title:[{required:!0,message:"请输入标题",trigger:"blur"}],desc:[{required:!0,message:"请输入描述",trigger:"blur"}],cate:[{required:!0,message:"请选择一个分类",trigger:"blur"}],cover:[{required:!0,message:"请选择一张封面",trigger:"blur"}],body:[{required:!0,message:"请输入攻略内容",trigger:"blur"}]}}},methods:{save:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t){var n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$refs[t].validate((function(e){if(!e)return n.$message({type:"warning",message:"无法保存，请认真填写"}),!1;n.id?n.$http.put("/admin/api/rest/strategies/".concat(n.id),n.model):n.$http.post("/admin/api/rest/strategies",n.model),n.$router.push("/strategies/list"),n.$message({type:"success",message:"保存分类名称成功"})}));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),fetchCates:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.get("/admin/api/cates/strategies");case 2:t=e.sent,this.cates=t.data;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),fetchStrategy:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.get("/admin/api/rest/strategies/".concat(this.id));case 2:t=e.sent,this.model=t.data;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),handleImageAdded:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t,n,r,a){var s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=new FormData,s.append("image",t),e.next=4,this.$http.post("/admin/api/upload/strategies",s);case 4:i=e.sent,n.insertEmbed(r,"image",i.data.url),a();case 7:case"end":return e.stop()}}),e,this)})));function t(t,n,r,a){return e.apply(this,arguments)}return t}(),beforeAvatarUpload:function(e){var t="image/jpeg"===e.type,n=e.size/1024/1024<2;return t||this.$message.error("上传头像图片只能是 JPG 格式!"),n||this.$message.error("上传头像图片大小不能超过 2MB!"),t&&n}},created:function(){this.fetchCates(),this.id&&this.fetchStrategy()},components:{VueEditor:ae["a"]}},Fe=Ve,Me=(n("6c0f"),Object(u["a"])(Fe,Le,He,!1,null,"2f059c61",null)),qe=Me.exports,Je=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-table",{attrs:{data:e.list}},[n("el-table-column",{attrs:{prop:"_id",label:"ID",width:"250"}}),n("el-table-column",{attrs:{prop:"title",label:"标题",width:"250"}}),n("el-table-column",{attrs:{label:"所属分类",width:"250",prop:"cate.name"}}),n("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return e.$router.push("/strategies/edit/"+t.row._id)}}},[e._v("编辑")]),n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return e.remove(t.row)}}},[e._v("删除")])]}}])})],1)],1)},Ge=[],Ne={data:function(){return{list:[]}},methods:{fetch:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.get("/admin/api/rest/strategies");case 2:t=e.sent,this.list=t.data;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),remove:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t){var n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$confirm("此操作将永久删除  ".concat(t.title,"?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n.$http.delete("/admin/api/rest/strategies/".concat(t._id));case 2:n.$message({type:"success",message:"删除成功!"}),n.fetch();case 4:case"end":return e.stop()}}),e)})))).catch((function(){n.$message({type:"info",message:"已取消删除"})}));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},created:function(){this.fetch()}},Ke=Ne,Qe=Object(u["a"])(Ke,Je,Ge,!1,null,null,null),We=Qe.exports,Xe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"cateEdit"},[n("h1",[e._v(e._s(e.id?"编辑":"新建")+"赛事信息")]),n("el-form",{attrs:{"label-width":"120px"},nativeOn:{submit:function(t){return t.preventDefault(),e.save(t)}}},[n("el-form-item",{attrs:{label:"所属分类"}},[n("el-select",{attrs:{multiple:""},model:{value:e.model.cates,callback:function(t){e.$set(e.model,"cates",t)},expression:"model.cates"}},e._l(e.cates,(function(e){return n("el-option",{key:e._id,attrs:{label:e.name,value:e._id}})})),1)],1),n("el-form-item",{attrs:{label:"标题"}},[n("el-input",{model:{value:e.model.title,callback:function(t){e.$set(e.model,"title",t)},expression:"model.title"}})],1),n("el-form-item",{attrs:{label:"文章内容"}},[n("VueEditor",{attrs:{useCustomImageHandler:""},on:{"image-added":e.handleImageAdded},model:{value:e.model.body,callback:function(t){e.$set(e.model,"body",t)},expression:"model.body"}})],1),n("el-form-item",[n("el-button",{attrs:{type:"primary","native-type":"submit"}},[e._v("保存")])],1)],1)],1)},Ye=[],Ze={props:{id:{}},components:{VueEditor:ae["a"]},data:function(){return{model:{title:"",cates:[],body:""},cates:[]}},methods:{save:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.id){e.next=5;break}return e.next=3,this.$http.put("/admin/api/rest/races/".concat(this.id),this.model);case 3:e.next=7;break;case 5:return e.next=7,this.$http.post("/admin/api/rest/races",this.model);case 7:this.$router.push("/races/list"),this.$message({type:"success",message:"保存分类名称成功"});case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),fetch:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.get("/admin/api/rest/races/".concat(this.id));case 2:t=e.sent,this.model=t.data;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),fetchCates:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.get("/admin/api/cates/races");case 2:t=e.sent,this.cates=t.data;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),handleImageAdded:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t,n,r,a){var s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=new FormData,s.append("file",t),e.next=4,this.$http.post("/admin/api/upload/races",s);case 4:i=e.sent,n.insertEmbed(r,"image",i.data.url),a();case 7:case"end":return e.stop()}}),e,this)})));function t(t,n,r,a){return e.apply(this,arguments)}return t}()},created:function(){this.id&&this.fetch(),this.fetchCates()}},et=Ze,tt=Object(u["a"])(et,Xe,Ye,!1,null,null,null),nt=tt.exports,rt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",[e._v("分类列表")]),n("el-table",{attrs:{data:e.list}},[n("el-table-column",{attrs:{prop:"_id",label:"ID",width:"250"}}),n("el-table-column",{attrs:{prop:"title",label:"标题",width:"250"}}),n("el-table-column",{attrs:{label:"所属分类",width:"250"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.cate,(function(t){return n("span",{key:t.i},[e._v(e._s(t.name)+" ")])}))}}])}),n("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return e.$router.push("/races/edit/"+t.row._id)}}},[e._v("编辑")]),n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return e.remove(t.row)}}},[e._v("删除")])]}}])})],1)],1)},at=[],st=(n("fb6a"),{data:function(){return{list:[]}},methods:{fetch:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.get("/admin/api/rest/races");case 2:t=e.sent,this.list=t.data.slice(23);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),remove:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t){var n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$confirm("此操作将永久删除分类  ".concat(t.title,"?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n.$http.delete("/admin/api/rest/races/".concat(t._id));case 2:n.$message({type:"success",message:"删除成功!"}),n.fetch();case 4:case"end":return e.stop()}}),e)})))).catch((function(){n.$message({type:"info",message:"已取消删除"})}));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},created:function(){this.fetch()}}),it=st,ot=Object(u["a"])(it,rt,at,!1,null,null,null),lt=ot.exports;r["default"].use(s["a"]);var ct=[{path:"/login",component:w,meta:{isPublic:!0}},{path:"/",name:"main",component:p,children:[{path:"/cates/create",component:R},{path:"/cates/edit/:id",component:R,props:!0},{path:"/cates/list",component:T},{path:"/items/create",component:D},{path:"/items/edit/:id",component:D,props:!0},{path:"/items/list",component:M},{path:"/heros/create",component:Q},{path:"/heros/edit/:id",component:Q,props:!0},{path:"/heros/list",component:te},{path:"/articles/create",component:le},{path:"/articles/edit/:id",component:le,props:!0},{path:"/articles/list",component:he},{path:"/ads/create",component:xe},{path:"/ads/edit/:id",component:xe,props:!0},{path:"/ads/list",component:Oe},{path:"/admin_users/create",component:Be},{path:"/admin_users/edit/:id",component:Be,props:!0},{path:"/admin_users/list",component:Ue},{path:"/strategies/create",component:qe},{path:"/strategies/edit/:id",component:qe,props:!0},{path:"/strategies/list",component:We},{path:"/races/create",component:nt},{path:"/races/edit/:id",component:nt,props:!0},{path:"/races/list",component:lt}]}],ut=new s["a"]({routes:ct});ut.beforeEach((function(e,t,n){if(!e.meta.isPublic&&!localStorage.token)return n("/login");n()}));var mt=ut,pt=(n("d3b7"),n("bc3a")),dt=n.n(pt),ht=dt.a.create({baseURL:Object({NODE_ENV:"production",BASE_URL:"/admin/"}).VUE_APP_API_URL||"/"});console.log(Object({NODE_ENV:"production",BASE_URL:"/admin/"})),ht.interceptors.request.use((function(e){return localStorage.token&&(e.headers.Authorization="Bearer "+localStorage.token),e}),(function(e){return Promise.reject(e)})),ht.interceptors.response.use((function(e){return e}),(function(e){return console.log(e),e.response.data.message&&r["default"].prototype.$message({type:"error",message:e.response.data.message}),401===e.response.status&&mt.push("/login"),Promise.reject(e)}));var ft=ht,vt=n("5c96"),bt=n.n(vt);n("0fae");r["default"].use(bt.a),r["default"].config.productionTip=!1,r["default"].prototype.$http=ft,r["default"].mixin({methods:{getAuthHeader:function(){return{Authorization:"Beaer "+localStorage.token||!1}}}}),new r["default"]({router:mt,render:function(e){return e(a["default"])}}).$mount("#app")},"6c0f":function(e,t,n){"use strict";var r=n("7d7b"),a=n.n(r);a.a},"74c9":function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},a=[];n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}))},"7d7b":function(e,t,n){},8319:function(e,t,n){},"85ec":function(e,t,n){},9389:function(e,t,n){},cf6a:function(e,t,n){"use strict";var r=n("d980"),a=n.n(r);a.a},d6db:function(e,t,n){"use strict";var r=n("e67a"),a=n.n(r);a.a},d980:function(e,t,n){},e67a:function(e,t,n){},fc00:function(e,t,n){}});
//# sourceMappingURL=app.11c59fa3.js.map